<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1"/>
    <title>IPFX | Home</title>
    <link rel="icon" type="image/x-icon" href="/assets/images/favicon.ico">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;500;700&family=Space+Grotesk:wght@500;700&family=IBM+Plex+Mono:wght@400;600;700&display=swap"
          rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Manrope:wght@400;600;700&family=DM+Sans:wght@400;500;700&display=swap"
          rel="stylesheet">
    <style>
        :root {
            --bg: #0a0a0c;
            --fg: #ffffff;
            --muted: #9ea0a6;
            --line: #2b2d34;
            --silver: #dadee1;
            --forest: #1e3a8a; /* deep cobalt */
            --mint: #2563eb; /* cobalt blue accent */
            --section-gap: 60px; /* tighter spacing */
            --container-w: 1280px;

            /* Typography scale */
            --h1: clamp(2.2rem, 5.6vw, 4.2rem);
            --h2: clamp(1.6rem, 3.6vw, 2.4rem);
            --h3: clamp(1.1rem, 2.2vw, 1.35rem);
            --lead: clamp(1rem, 1.8vw, 1.12rem);

            --radius: 16px;
            --shadow: 0 12px 30px rgba(0, 0, 0, .32);
        }

        * {
            box-sizing: border-box;
        }

        html, body {
            height: 100%;
            margin: 0;
        }

        html {
            scroll-behavior: smooth;
            scroll-padding-top: 100px;
        }

        body {
            font-family: 'Inter', system-ui, -apple-system, Segoe UI, Roboto, "Helvetica Neue", Arial;
            color: var(--fg);
            letter-spacing: 0.2px;
            background:
                linear-gradient(120deg, rgba(38, 73, 65, 0.12), transparent 60%),
                radial-gradient(1400px 800px at 50% 10%, rgba(37, 99, 235, 0.18), transparent 70%),
                radial-gradient(1200px 700px at 80% 30%, rgba(207, 210, 215, 0.16), transparent 68%),
                radial-gradient(1000px 600px at 20% 50%, rgba(207, 210, 215, 0.14), transparent 68%),
                radial-gradient(900px 900px at 50% 70%, rgba(37, 99, 235, 0.12), transparent 65%),
                radial-gradient(1100px 700px at 30% 90%, rgba(139, 92, 246, 0.10), transparent 70%),
                conic-gradient(from 200deg at 72% 15%, rgba(37, 99, 235, 0.16), rgba(37, 99, 235, 0.0) 28% 72%, rgba(37, 99, 235, 0.16)),
                linear-gradient(160deg, rgba(207, 210, 215, 0.10), transparent 30%),
                var(--bg);
            position: relative;
            overflow-x: hidden;
            min-height: 100vh;
        }


        .container {
            width: min(var(--container-w), 96vw);
            margin: auto;
        }

        /* Why Us section - DISTINCT (show differentiation) */
        .full-bg-section {
            background: linear-gradient(180deg,
                rgba(10, 10, 12, 0.65) 0%,
                rgba(12, 14, 18, 0.80) 50%,
                rgba(10, 10, 12, 0.65) 100%);
            width: 100%;
            padding-top: var(--section-gap);
            padding-bottom: var(--section-gap);
            border-top: 1px solid rgba(255, 255, 255, 0.05);
        }

        /* End section (Testimonials/Footer) - SMOOTH (gentle conclusion) */
        .end {
            background: linear-gradient(180deg,
                transparent 0%,
                rgba(0, 0, 0, 0.2) 15%,
                rgba(0, 0, 0, 0.4) 50%,
                rgba(0, 0, 0, 0.6) 85%,
                rgba(0, 0, 0, 0.8) 100%);
        }



        header {
            position: relative;
            top: 0;
            z-index: 60;
            padding-top: 18px;
            backdrop-filter: blur(8px);
            -webkit-backdrop-filter: blur(8px);
        }

        header::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 50%;
            transform: translateX(-50%);
            width: 92%;
            height: 1px;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.1), transparent);
        }

        .nav {
            display: flex;
            align-items: center;
            justify-content: space-between;
            height: 90px;
        }

        .brand {
            display: inline-flex;
            align-items: center;
            gap: .6rem;
            text-decoration: none;
            color: var(--fg);
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }

        .brand:hover {
            transform: translateY(-2px);
        }

        .brand img {
            width: 34px;
            height: 34px;
            object-fit: contain;
            filter: drop-shadow(0 2px 10px rgba(0, 0, 0, .4));
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }

        .brand:hover img {
            filter: drop-shadow(0 4px 16px rgba(37, 99, 235, 0.6)) drop-shadow(0 2px 10px rgba(0, 0, 0, .4));
            transform: rotate(-5deg) scale(1.05);
        }

        .brand b {
            font-family: 'Space Grotesk', 'Inter', system-ui;
            font-weight: 700;
            letter-spacing: 0.7px;
            font-size: 1.1rem;
            transition: all 0.3s ease;
        }

        .brand:hover b {
            text-shadow: 0 2px 12px rgba(37, 99, 235, 0.4);
        }

        nav .menu {
            display: flex;
            align-items: center;
            gap: 2.5rem;
            position: relative;
        }

        nav .menu a {
            color: var(--fg);
            text-decoration: none;
            opacity: .92;
            font-weight: 500;
            letter-spacing: 0.2px;
            font-family: 'Space Grotesk', 'Inter', system-ui;
            font-size: 1.05rem;
            position: relative;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }

        nav .menu a::after {
            content: '';
            position: absolute;
            bottom: -4px;
            left: 0;
            width: 0;
            height: 2px;
            background: linear-gradient(90deg, var(--mint), rgba(37, 99, 235, 0.6));
            transition: width 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            box-shadow: 0 2px 8px rgba(37, 99, 235, 0.4);
        }

        nav .menu a:hover {
            opacity: 1;
            color: #ffffff;
            text-shadow: 0 2px 12px rgba(37, 99, 235, 0.3);
        }

        nav .menu a:hover::after {
            width: 100%;
        }

        .sep {
            width: 1px;
            height: 20px;
            background: var(--line);
            margin: 0 .2rem;
            background-color: rgba(255, 255, 255, 0.7);
        }

        .dropdown {
            position: relative;
        }

        .dropdown-btn {
            display: inline-flex;
            align-items: center;
            gap: .4rem;
            cursor: default;
            text-decoration: none;
            font-weight: 500;
            letter-spacing: 0.3px;
            font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
            font-size: 1.05rem;
            position: relative;
        }

        .dropdown-btn::after {
            content: '';
            position: absolute;
            bottom: -4px;
            left: 0;
            width: 100%;
            height: 1px;
            background: var(--fg);
            opacity: 0.6;
        }

        .dropdown ul {
            list-style: none;
            padding: .5rem;
            margin: 0;
            position: absolute;
            top: calc(100% + 8px);
            left: 0;
            background: linear-gradient(135deg, rgba(15, 17, 22, 0.98), rgba(19, 21, 27, 0.98));
            border: 1.5px solid rgba(255, 255, 255, 0.1);
            border-radius: 12px;
            min-width: 200px;
            display: none;
            box-shadow: 0 16px 40px rgba(0, 0, 0, .45), 0 8px 16px rgba(37, 99, 235, 0.1), inset 0 1px 0 rgba(255, 255, 255, 0.08);
            backdrop-filter: blur(12px);
            -webkit-backdrop-filter: blur(12px);
        }

        .dropdown::before {
            content: '';
            position: absolute;
            top: 100%;
            left: 0;
            right: 0;
            height: 12px;
            background: transparent;
        }

        .dropdown:hover ul {
            display: block;
        }

        .dropdown li {
            padding: .35rem .5rem;
            border-radius: 8px;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }

        .dropdown li a {
            display: block;
            opacity: .85;
            font-weight: 500;
            position: relative;
            transition: all 0.3s ease;
        }

        .dropdown li a::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 0;
            width: 0;
            height: 2px;
            background: linear-gradient(90deg, var(--mint), rgba(37, 99, 235, 0.6));
            transition: width 0.3s ease;
        }

        .dropdown li:hover {
            background: linear-gradient(135deg, rgba(37, 99, 235, 0.15), rgba(37, 99, 235, 0.08));
            transform: translateX(4px);
        }

        .dropdown li:hover a {
            opacity: 1;
            color: #ffffff;
        }

        .dropdown li:hover a::after {
            width: 100%;
        }

        /* Hero */
        .hero {
            padding: 100px 0 140px;
        }

        /* Problem Section - DISTINCT (call attention to industry problems) */
        .problem-section {
            padding: 80px 0;
            background: linear-gradient(180deg,
                rgba(10, 10, 12, 0.7) 0%,
                rgba(12, 14, 18, 0.85) 50%,
                rgba(10, 10, 12, 0.7) 100%);
            border-top: 1px solid rgba(255, 255, 255, 0.06);
            border-bottom: 1px solid rgba(255, 255, 255, 0.06);
        }

        .problem-section h2 {
            font-family: 'Space Grotesk', 'Inter', system-ui;
            font-size: var(--h2);
            font-weight: 700;
            color: #ffffff;
            margin: 0 0 16px;
            text-align: center;
            text-shadow: 0 2px 20px rgba(239, 68, 68, 0.2), 0 4px 8px rgba(0, 0, 0, 0.3);
            letter-spacing: -0.02em;
        }

        .problem-section .intro {
            text-align: center;
            color: var(--muted);
            font-size: var(--lead);
            max-width: 65ch;
            margin: 0 auto 48px;
            line-height: 1.6;
        }

        .problem-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 24px;
            margin-bottom: 40px;
        }

        .problem-card {
            background: linear-gradient(135deg, rgba(239, 68, 68, 0.1), rgba(239, 68, 68, 0.04));
            border: 1.5px solid rgba(239, 68, 68, 0.25);
            border-radius: 14px;
            padding: 28px 24px;
            position: relative;
            overflow: hidden;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            box-shadow: 0 4px 12px rgba(239, 68, 68, 0.1), inset 0 1px 0 rgba(255, 255, 255, 0.03);
        }

        .problem-card:hover {
            transform: translateY(-3px);
            border-color: rgba(239, 68, 68, 0.4);
            box-shadow: 0 12px 30px rgba(239, 68, 68, 0.2), inset 0 1px 0 rgba(255, 255, 255, 0.05);
        }

        .problem-card::before {
            content: "✗";
            position: absolute;
            top: 16px;
            left: 16px;
            font-size: 30px;
            font-weight: 700;
            color: rgba(239, 68, 68, 0.5);
            transition: all 0.3s ease;
        }

        .problem-card:hover::before {
            color: rgba(239, 68, 68, 0.7);
            transform: scale(1.1) rotate(-5deg);
        }

        .problem-card h3 {
            font-family: 'Space Grotesk', 'Inter', system-ui;
            font-size: 1.15rem;
            font-weight: 600;
            color: rgba(255, 255, 255, 0.95);
            margin: 0 0 10px 0;
            padding-left: 36px;
            letter-spacing: -0.01em;
        }

        .problem-card p {
            color: rgba(255, 255, 255, 0.75);
            font-size: 0.95rem;
            line-height: 1.6;
            margin: 0;
            padding-left: 36px;
        }

        .solution-teaser {
            text-align: center;
            margin-top: 56px;
            padding: 28px;
            background: linear-gradient(135deg, rgba(37, 99, 235, 0.08), rgba(37, 99, 235, 0.04));
            border-radius: 16px;
            border: 1px solid rgba(37, 99, 235, 0.2);
            position: relative;
            overflow: hidden;
        }

        .solution-teaser::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 2px;
            background: linear-gradient(90deg, transparent, rgba(37, 99, 235, 0.6), transparent);
        }

        .solution-teaser p {
            font-size: 1.2rem;
            font-weight: 600;
            background: linear-gradient(135deg, var(--mint), #3b82f6);
            -webkit-background-clip: text;
            background-clip: text;
            -webkit-text-fill-color: transparent;
            margin: 0 0 20px;
            font-family: 'Space Grotesk', 'Inter', system-ui;
            letter-spacing: -0.01em;
        }

        @media (max-width: 768px) {
            .problem-grid {
                grid-template-columns: 1fr;
            }
        }

        .grid {
            display: grid;
            grid-template-columns: 1.1fr .9fr;
            gap: 4rem;
            align-items: center;
        }

        @media (max-width: 900px) {
            .grid {
                grid-template-columns: 1fr;
            }
        }

        .headline {
            font-family: 'Space Grotesk', 'Inter', system-ui;
            font-weight: 600;
            font-size: var(--h1);
            line-height: 1.12;
            letter-spacing: -0.02em;
            color: #ffffff;
            margin: 0 0 10px;
            text-shadow: 0 2px 20px rgba(37, 99, 235, 0.2), 0 4px 8px rgba(0, 0, 0, 0.3);
        }

        .headline .hl {
            color: var(--mint);
            background: linear-gradient(135deg, #2563eb, #3b82f6);
            -webkit-background-clip: text;
            background-clip: text;
            -webkit-text-fill-color: transparent;
            text-shadow: none;
            position: relative;
        }

        .headline .hl::before {
            content: attr(data-text);
            position: absolute;
            left: 0;
            top: 0;
            z-index: -1;
            background: linear-gradient(135deg, #2563eb, #3b82f6);
            -webkit-background-clip: text;
            background-clip: text;
            -webkit-text-fill-color: transparent;
            filter: blur(12px);
            opacity: 0.5;
        }

        .subhead {
            margin-top: 30px;
            color: rgba(255, 255, 255, 0.92); /* visible, normal text */
            font-family: 'Manrope', 'DM Sans', sans-serif;
            font-weight: 400;
            letter-spacing: .03em;
            font-size: var(--lead);
            line-height: 1.5;
            max-width: 54ch;
            text-shadow: 0 0 10px rgba(255, 255, 255, 0.1);
        }

        /* Make sure the word is real, visible text (not masked by a parent) */
        .flicker-word {
            position: relative;
            color: rgba(255, 255, 255, 0.92);
            -webkit-text-fill-color: currentColor; /* Safari/WebKit */
            background: none !important;
            -webkit-background-clip: initial !important;
            background-clip: initial !important;
            transition: opacity 120ms ease;
        }

        /* The “dim” state during a flicker */
        .flicker-word.is-flicker {
            opacity: .28;
        }

        /* tweak depth here */

        /* underline draw-on-load (unchanged) */
        .underline-load {
            position: relative;
            display: inline-block;
            text-decoration: none;
            color: inherit;
            -webkit-text-fill-color: currentColor;
        }

        .underline-load::after {
            content: "";
            position: absolute;
            left: 0;
            bottom: -2px;
            width: 0%;
            height: 2px;
            background: var(--mint);
            transition: width .9s cubic-bezier(.25, 1, .3, 1) .25s;
        }

        body.loaded .underline-load::after {
            width: 100%;
        }

        /* Respect reduced motion */
        @media (prefers-reduced-motion: reduce) {
            .flicker-word {
                transition: none;
            }
        }

        .cta-row {
            display: flex;
            gap: 16px;
            flex-wrap: wrap;
            margin-top: 28px;
        }

        .btn {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            gap: .5rem;
            height: 56px;
            padding: 0 28px;
            border-radius: 8px;
            font-weight: 600;
            text-decoration: none;
            font-size: 1.05rem;
            letter-spacing: .01em;
            transition: all .25s cubic-bezier(0.4, 0, 0.2, 1);
            will-change: transform;
            position: relative;
            overflow: hidden;
        }

        .btn:hover {
            transform: translateY(-3px) scale(1.02);
            cursor: pointer;
        }

        .btn-primary {
            color: #071014;
            background: linear-gradient(135deg, #ffffff 0%, var(--silver) 50%, #bfc3c8 100%);
            border: 0 solid #c4cbcf;
            box-shadow: 0 10px 24px rgba(0, 0, 0, .28), 0 4px 12px rgba(37, 99, 235, 0.15);
        }

        .btn-primary::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.3), transparent);
            transition: left 0.5s ease;
        }

        .btn-primary:hover::before {
            left: 100%;
        }

        .btn-primary:hover {
            background: linear-gradient(135deg, #ffffff 0%, #f0f0f0 50%, #c7ccd2 100%);
            box-shadow: 0 16px 40px rgba(0, 0, 0, .38), 0 8px 20px rgba(37, 99, 235, 0.25);
        }

        .btn-secondary {
            color: #ffffff;
            background: transparent;
            border: 1.5px solid rgba(255, 255, 255, 0.2);
            box-shadow: none;
            backdrop-filter: blur(10px);
        }

        .btn-secondary::before {
            content: '';
            position: absolute;
            inset: 0;
            background: linear-gradient(135deg, rgba(37, 99, 235, 0.1), rgba(139, 92, 246, 0.1));
            opacity: 0;
            transition: opacity 0.3s ease;
        }

        .btn-secondary:hover::before {
            opacity: 1;
        }

        .btn-secondary:hover {
            background: rgba(255, 255, 255, 0.12);
            border-color: rgba(255, 255, 255, 0.4);
            box-shadow: 0 8px 24px rgba(37, 99, 235, 0.2);
        }

        #tape, #candles {
            display: block;
            width: 100%;
            height: 520px;
        }

        .chart-box {
            height: 520px;
            position: relative;
            overflow: hidden;
            transform: translateY(-30px);
            border-radius: 16px;
            box-shadow: 0 8px 32px rgba(37, 99, 235, 0.15), 0 4px 16px rgba(0, 0, 0, 0.2);
        }

        .chart-box::before {
            content: '';
            position: absolute;
            inset: 0;
            border-radius: 16px;
            border: 1px solid rgba(37, 99, 235, 0.2);
            pointer-events: none;
            z-index: 1;
        }

        .chart-box canvas {
            width: 100%;
            height: 100%;
            opacity: 0.95;
            filter: drop-shadow(0 4px 12px rgba(37, 99, 235, 0.2));
        }

        /* Band (What are we) */
        .band {
            width: 100%;
            background: transparent;
            padding: var(--section-gap) 0;
            position: relative;
        }

        .band-side {
            position: relative;
        }

        .band-card {
            margin-left: auto;
            margin-right: auto;
            margin-top: 80px;
            width: min(560px, 92%);
            background: linear-gradient(180deg, #21284b, #282f55);
            border: 0px solid #ffffff;
            border-radius: var(--radius);
            padding: clamp(26px, 4vw, 44px);
            box-shadow: var(--shadow);
            position: relative;
            overflow: hidden;
            transform: translateY(-10px);
            z-index: 1;

        }

        .band-card::before {
            content: "";
            position: absolute;
            inset: 10px;
            background: radial-gradient(700px 260px at 90% -10%, rgba(79, 125, 240, 0.12), transparent 60%),
            linear-gradient(160deg, rgba(255, 255, 255, 0.04), rgba(255, 255, 255, 0.00) 40%);
            pointer-events: none;
        }

        .band-card h2 {
            margin: 0 0 14px;
            color: #ffffff;
            font-family: 'Space Grotesk', 'Inter';
            font-weight: 200;
            font-size: var(--h2);
            letter-spacing: .01em;
        }

        .band-card p {
            margin: 0;
            color: rgba(255, 255, 255, 0.96);
            font-weight: 300;
            letter-spacing: .02em;
            line-height: 1.6;
            font-size: 1rem;
            max-width: 60ch;
        }

        /* ====== Layout variables ====== */
        :root {
            --af-spine-w: 1px;
            --af-gap-v: clamp(56px, 9vh, 96px);
            --af-line: rgba(255, 255, 255, 0.08);
            --af-accent: rgba(37, 99, 235, 0.4);
            --af-muted: rgba(255, 255, 255, .7);
            --af-sticky-top: clamp(56px, 10vh, 96px);
            --container-w: 1200px;
        }

        /* About Flow - SMOOTH (continuation of explanation) */
        .aboutflow {
            padding-top: clamp(40px, 8vw, 112px);
            padding-right: clamp(40px, 8vw, 112px);
            padding-left: clamp(40px, 8vw, 112px);
            margin-top: 35px;
            margin-bottom: 20px;
            background: linear-gradient(180deg,
                transparent 0%,
                rgba(10, 10, 12, 0.25) 20%,
                rgba(10, 10, 12, 0.35) 80%,
                transparent 100%);
            position: relative;
        }

        .aboutflow::before {
            content: '';
            position: absolute;
            top: 0;
            left: 50%;
            transform: translateX(-50%);
            width: 80%;
            height: 1px;
            background: linear-gradient(90deg, transparent, rgba(37, 99, 235, 0.2), transparent);
        }

        /* GRID: [left] [spine] [right] */
        .af-grid {
            width: min(var(--container-w), 92vw);
            margin: 0 auto;
            display: grid;
            grid-template-columns: 1fr var(--af-spine-w) minmax(400px, 0.95fr);
            column-gap: clamp(48px, 6vw, 80px);
            align-items: start;
            position: relative;
        }

        .af-head {
            grid-column: 1 / -1;
            margin: 0 0 32px;
            font-family: 'Space Grotesk', 'Inter', system-ui;
            font-weight: 700;
            font-size: clamp(1.4rem, 2.8vw, 2rem);
            color: #ffffff;
        }

        /* LEFT stack (namespaced) */
        .af-zig {
            grid-column: 1;
            list-style: none;
            margin: 0;
            padding: 0;
            display: flex;
            flex-direction: column;
            gap: var(--af-gap-v);
            position: relative;
        }

        /* Vertical connecting line behind boxes */
        .af-zig::before {
            content: "";
            position: absolute;
            left: -14px;
            top: 8px;
            bottom: 0;
            width: 1px;
            /*background: linear-gradient(180deg, var(--af-line) 15%, var(--af-line) 85%, transparent);*/
            background: var(--af-line);
            z-index: 0;
        }

        /* each step = [card][spine gutter] */
        .af-step {
            display: flex;
            align-items: flex-start;
            gap: 16px;
            position: relative;
        }

        /* spine node - minimal dot */
        .af-node {
            position: absolute;
            left: -3px;
            top: 3px;
            width: 8px;
            height: 8px;
            border-radius: 999px;
            background: rgba(37, 99, 235, 0.6);
            z-index: 1;
        }

        /* the card - minimal, typography-led */
        .af-card {
            background: transparent;
            border: none;
            border-left: 2.5px solid var(--af-line);
            padding: 0 0 0 24px;
            overflow-wrap: anywhere;
            word-break: break-word;
            position: relative;
            flex: 1;
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
        }

        .af-card:hover {
            border-left-color: var(--af-accent);
            border-left-width: 3px;
            padding-left: 32px;
            transform: translateX(4px);
        }

        .af-card:hover h3 {
            color: rgba(255, 255, 255, 1);
        }

        /* connector arm - minimal line to spine */
        .af-card::after {
            content: "";
            position: absolute;
            top: 6px;
            left: -26px;
            width: 24px;
            height: 1px;
            background: var(--af-line);
        }

        /* typography inside card */
        .af-card h3 {
            margin: 0 0 8px;
            font-family: 'Space Grotesk', 'Inter', system-ui;
            font-weight: 600;
            font-size: clamp(1.25rem, 2.4vw, 1.55rem);
            color: rgba(255, 255, 255, 0.95);
            letter-spacing: -0.02em;
            line-height: 1.3;
            text-shadow: 0 2px 8px rgba(0, 0, 0, 0.3);
            transition: color 0.3s ease;
        }

        .af-card p {
            margin: 0;
            color: var(--af-muted);
            line-height: 1.7;
            font-size: clamp(0.95rem, 1.4vw, 1.05rem);
            font-weight: 400;
            letter-spacing: 0.005em;
        }

        /* CENTER spine column (visual separator) */
        .af-spine {
            grid-column: 2;
            align-self: stretch;
            justify-self: center;
            width: 1px;
            background: linear-gradient(180deg, transparent, var(--af-line) 15%, var(--af-line) 95%, transparent);
        }

        /* RIGHT sticky typewriter - minimal, elegant */
        .af-right {
            grid-column: 3;
            position: sticky;
            top: var(--af-sticky-top);
            align-self: start;
        }

        .af-typebox {
            background: transparent;
            border: none;
            border-left: 3px solid var(--af-accent);
            padding: 0 0 0 32px;
            position: relative;
        }

        .af-typebox::before {
            display: none;
        }

        .af-typebox::after {
            display: none;
        }

        .af-typebox h2 {
            margin: 0 0 20px;
            font-family: 'Space Grotesk', 'Inter', system-ui;
            font-weight: 600;
            font-size: 0.85rem;
            color: var(--af-accent);
            letter-spacing: 0.1em;
            text-transform: uppercase;
            opacity: 1;
            text-shadow: 0 2px 12px rgba(37, 99, 235, 0.3);
        }

        .af-typewriter {
            display: block;
            font-family: 'Inter', 'Space Grotesk', system-ui;
            font-weight: 400;
            font-size: clamp(1.05rem, 2vw, 1.25rem);
            line-height: 1.75;
            color: rgba(255, 255, 255, 0.9);
            white-space: normal;
            min-height: 3.5em;
            letter-spacing: 0.005em;
        }

        .af-typewriter::after {
            content: '';
            display: inline-block;
            width: 2px;
            height: 1em;
            vertical-align: -0.15em;
            margin-left: 4px;
            background: currentColor;
            animation: af-blink .9s steps(1, end) infinite;
        }

        @keyframes af-blink {
            50% {
                opacity: 0;
            }
        }

        /* reveal-on-scroll */
        .af-step .af-card, .af-step .af-node {
            opacity: 1;
            transform: none;
            transition: opacity .6s ease, transform .6s ease;
        }

        .af-step.is-inview .af-card, .af-step.is-inview .af-node {
            opacity: 1;
            transform: none;
        }

        /* Mobile: hide spine + right panel; keep cards only */
        @media (max-width: 900px) {
            .af-grid {
                grid-template-columns: 1fr;
            }

            .af-spine {
                display: none;
            }

            .af-right {
                display: none;
            }

            .af-step {
                grid-template-columns: 1fr;
            }

            .af-node {
                display: none;
            }

            .af-card::after {
                display: none;
            }

            .af-zig::before {
                display: none;
            }
        }

        /* Respect motion prefs */
        @media (prefers-reduced-motion: reduce) {
            .af-step .af-card, .af-step .af-node {
                transition: none;
            }

            .af-typewriter::after {
                animation: none;
            }
        }


        .step .node {
            position: absolute;
            top: 18px;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 10px;
            height: 10px;
            border-radius: 50%;
            background: var(--silver);
            box-shadow: 0 0 0 4px rgba(255, 255, 255, 0.06);
        }

        .step h3 {
            margin: 10px 0 0;
            font-family: 'Space Grotesk', 'Inter', system-ui;
            font-weight: 700;
            font-size: var(--h3);
            color: #e9efff;
            letter-spacing: .01em;
        }

        .step p {
            margin: 8px 0 0;
            font-size: .95rem;
            color: rgba(255, 255, 255, 0.72);
            line-height: 1.5;
            letter-spacing: .01em;
        }

        @media (max-width: 900px) {
            .timeline {
                grid-template-columns: 1fr;
                gap: .9rem;
            }

            .timeline::before {
                display: none;
            }

            .step .node {
                left: 18px;
                top: 18px;
                transform: none;
            }

            .step {
                padding-left: 50px;
            }
        }


        .card h3 {
            margin: 0 0 8px;
            color: #e9ecef;
            font-size: 1.1rem;
        }

        .card p {
            margin: 0;
            color: rgba(255, 255, 255, 0.78);
            font-size: .95rem;
        }

        .why-us-section {
            padding: var(--section-gap) 0;

            background: #0d0f13; /* Or any background you prefer */
        }

        .why-us-container {
            width: min(1200px, 90vw);
            margin: 0 auto;
            margin-top: 30px;
            display: grid;
            grid-template-columns: 1fr 1px 1fr;
            gap: 3rem;
            align-items: center;
        }

        .stat-visual-card {
            width: 100%;
            background: linear-gradient(135deg, rgba(30, 58, 138, 0.18), rgba(37, 99, 235, 0.1));
            border: 1.5px solid rgba(37, 99, 235, 0.35);
            border-radius: 18px;
            padding: 36px 28px;
            box-shadow: 0 16px 40px rgba(0, 0, 0, 0.35), 0 8px 16px rgba(37, 99, 235, 0.15), inset 0 1px 0 rgba(255, 255, 255, 0.08);
            position: relative;
            overflow: hidden;
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
        }

        .stat-visual-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 2px;
            background: linear-gradient(90deg, transparent, rgba(37, 99, 235, 0.6), transparent);
        }

        .stat-visual-card:hover {
            transform: translateY(-4px);
            border-color: rgba(37, 99, 235, 0.5);
            box-shadow: 0 20px 50px rgba(0, 0, 0, 0.4), 0 12px 24px rgba(37, 99, 235, 0.25), inset 0 1px 0 rgba(255, 255, 255, 0.12);
        }

        .stat-comparison {
            display: flex;
            align-items: center;
            justify-content: space-between;
            gap: 16px;
            margin-bottom: 16px;
        }

        .stat-item {
            flex: 1;
            text-align: center;
            padding: 24px 18px;
            border-radius: 14px;
            position: relative;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            overflow: hidden;
        }

        .stat-item::before {
            content: '';
            position: absolute;
            inset: 0;
            border-radius: 14px;
            padding: 1.5px;
            background: linear-gradient(135deg, transparent, rgba(255, 255, 255, 0.1));
            -webkit-mask: linear-gradient(#fff 0 0) content-box, linear-gradient(#fff 0 0);
            -webkit-mask-composite: xor;
            mask-composite: exclude;
            opacity: 0;
            transition: opacity 0.3s ease;
        }

        .stat-item:hover::before {
            opacity: 1;
        }

        .stat-bad {
            background: linear-gradient(135deg, rgba(239, 68, 68, 0.18), rgba(239, 68, 68, 0.10));
            border: 1.5px solid rgba(239, 68, 68, 0.35);
            box-shadow: 0 4px 16px rgba(239, 68, 68, 0.15), inset 0 1px 0 rgba(255, 255, 255, 0.05);
        }

        .stat-bad:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 24px rgba(239, 68, 68, 0.25), inset 0 1px 0 rgba(255, 255, 255, 0.08);
        }

        .stat-good {
            background: linear-gradient(135deg, rgba(16, 185, 129, 0.18), rgba(16, 185, 129, 0.10));
            border: 1.5px solid rgba(16, 185, 129, 0.35);
            box-shadow: 0 4px 16px rgba(16, 185, 129, 0.15), inset 0 1px 0 rgba(255, 255, 255, 0.05);
        }

        .stat-good:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 24px rgba(16, 185, 129, 0.25), inset 0 1px 0 rgba(255, 255, 255, 0.08);
        }

        .stat-icon {
            font-size: 28px;
            margin-bottom: 8px;
            opacity: 0.8;
        }

        .stat-bad .stat-icon {
            color: rgba(239, 68, 68, 0.9);
        }

        .stat-good .stat-icon {
            color: rgba(16, 185, 129, 0.9);
        }

        .stat-value {
            font-family: 'Space Grotesk', 'Inter', system-ui;
            font-size: clamp(2rem, 4vw, 3rem);
            font-weight: 700;
            color: #ffffff;
            margin-bottom: 8px;
            letter-spacing: -0.02em;
        }

        .stat-label {
            font-size: 0.95rem;
            font-weight: 600;
            color: rgba(255, 255, 255, 0.9);
            margin-bottom: 4px;
        }

        .stat-sublabel {
            font-size: 0.85rem;
            color: rgba(255, 255, 255, 0.65);
            line-height: 1.4;
        }

        .stat-arrow {
            font-size: 2rem;
            color: var(--mint);
            flex-shrink: 0;
        }

        .stat-note {
            font-size: 0.8rem;
            color: rgba(255, 255, 255, 0.5);
            text-align: center;
            font-style: italic;
        }

        @media (max-width: 680px) {
            .stat-comparison {
                flex-direction: column;
            }

            .stat-arrow {
                transform: rotate(90deg);
            }
        }

        /* 2-Path Fork Section - VERY DISTINCT (major decision point) */
        .dual-path-section {
            padding: 120px 0;
            background: linear-gradient(180deg,
                rgba(10, 10, 12, 0.8) 0%,
                rgba(12, 14, 20, 0.90) 50%,
                rgba(10, 10, 12, 0.8) 100%);
            border-top: 1px solid rgba(255, 255, 255, 0.1);
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
            position: relative;
        }

        .dual-path-section h2 {
            font-family: 'Space Grotesk', 'Inter', system-ui;
            font-size: var(--h2);
            font-weight: 700;
            color: #ffffff;
            text-align: center;
            margin: 0 0 20px;
        }

        .dual-path-section .intro {
            text-align: center;
            color: var(--muted);
            font-size: var(--lead);
            max-width: 65ch;
            margin: 0 auto 72px;
            line-height: 1.6;
        }

        .path-fork {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 2px;
            max-width: 1200px;
            margin: 0 auto;
            position: relative;
        }

        /* Vertical divider between paths */
        .path-fork::before {
            content: "";
            position: absolute;
            top: 0;
            left: 50%;
            transform: translateX(-50%);
            width: 2px;
            height: 100%;
            background: linear-gradient(180deg, transparent, rgba(37, 99, 235, 0.6) 20%, rgba(37, 99, 235, 0.6) 80%, transparent);
        }

        .path-option {
            padding: 60px 48px;
            position: relative;
            overflow: hidden;
            display: flex;
            flex-direction: column;
            align-items: center;
            text-align: center;
            transition: all 0.3s ease;
            border-radius: 16px;
        }

        .path-option::before {
            content: "";
            position: absolute;
            inset: 0;
            opacity: 0;
            transition: opacity 0.3s ease;
            pointer-events: none;
        }

        .path-option:hover {
            transform: scale(1.02);
        }

        .path-option:hover::before {
            opacity: 1;
        }

        /* Left Path: Infinity Challenge (Learning Traders) */
        .path-left {
            background: linear-gradient(135deg, rgba(16, 185, 129, 0.08), rgba(16, 185, 129, 0.02));
            border: 2px solid rgba(16, 185, 129, 0.2);
        }

        .path-left::before {
            background: radial-gradient(600px 400px at 50% 50%, rgba(16, 185, 129, 0.15), transparent 70%);
        }

        .path-left:hover {
            border-color: rgba(16, 185, 129, 0.5);
            box-shadow: 0 20px 60px rgba(16, 185, 129, 0.2);
        }

        /* Right Path: PAC (Experienced Traders) */
        .path-right {
            background: linear-gradient(135deg, rgba(37, 99, 235, 0.08), rgba(37, 99, 235, 0.02));
            border: 2px solid rgba(37, 99, 235, 0.2);
        }

        .path-right::before {
            background: radial-gradient(600px 400px at 50% 50%, rgba(37, 99, 235, 0.15), transparent 70%);
        }

        .path-right:hover {
            border-color: rgba(37, 99, 235, 0.5);
            box-shadow: 0 20px 60px rgba(37, 99, 235, 0.2);
        }

        .path-badge {
            display: inline-block;
            padding: 8px 16px;
            border-radius: 999px;
            font-size: 0.85rem;
            font-weight: 700;
            text-transform: uppercase;
            letter-spacing: 0.05em;
            margin-bottom: 24px;
        }

        .path-left .path-badge {
            background: rgba(16, 185, 129, 0.15);
            border: 1px solid rgba(16, 185, 129, 0.4);
            color: #10b981;
        }

        .path-right .path-badge {
            background: rgba(37, 99, 235, 0.15);
            border: 1px solid rgba(37, 99, 235, 0.4);
            color: var(--mint);
        }

        .path-icon {
            font-size: 4.5rem;
            margin-bottom: 28px;
            display: block;
            line-height: 1;
        }

        .path-title {
            font-family: 'Space Grotesk', 'Inter', system-ui;
            font-size: clamp(1.6rem, 3vw, 2.2rem);
            font-weight: 700;
            color: #ffffff;
            margin: 0 0 16px;
            line-height: 1.2;
        }

        .path-description {
            color: rgba(255, 255, 255, 0.8);
            font-size: 1.05rem;
            line-height: 1.7;
            margin: 0 0 32px;
            max-width: 42ch;
        }

        .path-features {
            list-style: none;
            padding: 0;
            margin: 0 0 40px;
            display: flex;
            flex-direction: column;
            gap: 12px;
            align-items: flex-start;
            width: 100%;
            max-width: 360px;
        }

        .path-features li {
            display: flex;
            align-items: flex-start;
            gap: 10px;
            text-align: left;
            font-size: 0.95rem;
            color: rgba(255, 255, 255, 0.75);
            line-height: 1.5;
        }

        .path-features li::before {
            content: "✓";
            flex-shrink: 0;
            font-weight: 700;
            font-size: 1.1rem;
            line-height: 1.4;
        }

        .path-left .path-features li::before {
            color: #10b981;
        }

        .path-right .path-features li::before {
            color: var(--mint);
        }

        .path-cta {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
            padding: 16px 40px;
            border: none;
            border-radius: 10px;
            color: #ffffff;
            font-weight: 700;
            font-size: 1.1rem;
            text-decoration: none;
            transition: all 0.2s ease;
            margin-top: auto;
        }

        .path-left .path-cta {
            background: linear-gradient(135deg, #10b981, #059669);
            box-shadow: 0 8px 24px rgba(16, 185, 129, 0.3);
        }

        .path-right .path-cta {
            background: linear-gradient(135deg, var(--mint), #1e40af);
            box-shadow: 0 8px 24px rgba(37, 99, 235, 0.3);
        }

        .path-cta:hover {
            transform: translateY(-3px) scale(1.02);
        }

        .path-left .path-cta:hover {
            box-shadow: 0 12px 32px rgba(16, 185, 129, 0.4);
        }

        .path-right .path-cta:hover {
            box-shadow: 0 12px 32px rgba(37, 99, 235, 0.4);
        }

        .path-cta::after {
            content: "→";
            font-size: 1.3rem;
            transition: transform 0.2s ease;
        }

        .path-cta:hover::after {
            transform: translateX(4px);
        }

        @media (max-width: 980px) {
            .path-fork {
                grid-template-columns: 1fr;
                gap: 32px;
            }

            .path-fork::before {
                display: none;
            }

            .path-option {
                padding: 48px 32px;
            }
        }

        .why-us-separator {
            background: rgba(255, 255, 255, 0.08);
            width: 1px;
            height: 100%;
        }

        .why-us-content h2 {
            font-family: 'Space Grotesk', 'Inter', sans-serif;
            font-size: var(--h2);
            margin: 0 0 16px;
            color: #ffffff;
        }

        .why-us-content p {
            font-size: var(--lead);
            line-height: 1.6;
            color: rgba(255, 255, 255, 0.85);
            max-width: 60ch;
        }

        /* Responsive stacking */
        @media (max-width: 860px) {
            .why-us-container {
                grid-template-columns: 1fr;
                gap: 2rem;
            }

            .why-us-separator {
                display: none;
            }
        }


        /* Testimonials Carousel */
        .testimonials-section {
            margin: 80px 0;
            padding: 0;
            position: relative;
        }

        .testimonials-header {
            text-align: center;
            margin-bottom: 48px;
        }

        .testimonials-header h2 {
            font-family: 'Space Grotesk', 'Inter', system-ui;
            font-size: var(--h2);
            font-weight: 700;
            color: #ffffff;
            margin: 0 0 12px;
        }

        .testimonials-header p {
            color: var(--muted);
            font-size: var(--lead);
            margin: 0;
        }

        .testimonials-carousel {
            position: relative;
            overflow: hidden;
            cursor: grab;
            user-select: none;
            padding: 20px 0;
        }

        .testimonials-carousel.dragging {
            cursor: grabbing;
        }

        .testimonials-track {
            display: flex;
            gap: 24px;
            transition: transform 0.5s cubic-bezier(0.25, 0.46, 0.45, 0.94);
            will-change: transform;
        }

        .testimonials-track.no-transition {
            transition: none;
        }

        .testimonial-card {
            min-width: min(680px, 85vw);
            background: linear-gradient(135deg, rgba(15, 17, 22, 0.98), rgba(19, 21, 27, 0.98));
            border: 1.5px solid rgba(255, 255, 255, 0.1);
            border-radius: 18px;
            padding: clamp(32px, 5vw, 48px);
            box-shadow: 0 16px 48px rgba(0, 0, 0, 0.4), 0 8px 16px rgba(0, 0, 0, 0.2), inset 0 1px 0 rgba(255, 255, 255, 0.08);
            position: relative;
            overflow: hidden;
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
        }

        .testimonial-card:hover {
            transform: translateY(-4px) scale(1.01);
            border-color: rgba(37, 99, 235, 0.3);
            box-shadow: 0 24px 60px rgba(37, 99, 235, 0.2), 0 12px 24px rgba(0, 0, 0, 0.3), inset 0 1px 0 rgba(255, 255, 255, 0.12);
        }

        .testimonial-card::before {
            content: "";
            position: absolute;
            inset: 0;
            background: radial-gradient(600px 300px at 70% -10%, rgba(37, 99, 235, 0.12), transparent 60%);
            pointer-events: none;
            transition: opacity 0.4s ease;
        }

        .testimonial-card:hover::before {
            opacity: 1.5;
            background: radial-gradient(600px 300px at 70% -10%, rgba(37, 99, 235, 0.18), transparent 60%);
        }

        .testimonial-quote {
            position: relative;
            z-index: 1;
        }

        .testimonial-quote::before {
            content: "";
            position: absolute;
            left: -20px;
            top: -10px;
            font-size: 80px;
            color: rgba(37, 99, 235, 0.2);
            font-family: Georgia, serif;
            line-height: 1;
        }

        .testimonial-text {
            font-size: clamp(1.1rem, 2vw, 1.35rem);
            line-height: 1.7;
            color: rgba(255, 255, 255, 0.95);
            margin: 0 0 24px;
            font-weight: 300;
            letter-spacing: 0.01em;
        }

        .testimonial-author {
            display: flex;
            align-items: center;
            gap: 16px;
            padding-top: 20px;
            border-top: 1px solid rgba(255, 255, 255, 0.08);
        }

        .author-avatar {
            width: 56px;
            height: 56px;
            border-radius: 50%;
            background: linear-gradient(135deg, rgba(37, 99, 235, 0.35), rgba(37, 99, 235, 0.15));
            display: flex;
            align-items: center;
            justify-content: center;
            font-family: 'Space Grotesk', 'Inter', system-ui;
            font-size: 1.4rem;
            font-weight: 700;
            color: rgba(37, 99, 235, 1);
            border: 2px solid rgba(37, 99, 235, 0.4);
            flex-shrink: 0;
            box-shadow: 0 4px 12px rgba(37, 99, 235, 0.2), inset 0 1px 0 rgba(255, 255, 255, 0.1);
            position: relative;
            overflow: hidden;
        }

        .author-avatar::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: radial-gradient(circle, rgba(255, 255, 255, 0.15), transparent 70%);
            transform: rotate(45deg);
        }

        .author-info {
            flex: 1;
        }

        .author-name {
            font-family: 'Space Grotesk', 'Inter', system-ui;
            font-size: 1.05rem;
            font-weight: 600;
            color: #ffffff;
            margin: 0 0 4px;
        }

        .author-role {
            font-size: 0.92rem;
            color: var(--muted);
            margin: 0;
        }

        .carousel-nav {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 16px;
            margin-top: 40px;
        }

        .carousel-arrow {
            width: 48px;
            height: 48px;
            border-radius: 50%;
            background: linear-gradient(135deg, rgba(255, 255, 255, 0.08), rgba(255, 255, 255, 0.04));
            border: 1.5px solid rgba(255, 255, 255, 0.12);
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            color: rgba(255, 255, 255, 0.7);
            position: relative;
            overflow: hidden;
            backdrop-filter: blur(10px);
        }

        .carousel-arrow::before {
            content: '';
            position: absolute;
            inset: 0;
            border-radius: 50%;
            background: radial-gradient(circle at center, rgba(37, 99, 235, 0.3), transparent);
            opacity: 0;
            transition: opacity 0.3s ease;
        }

        .carousel-arrow:hover::before {
            opacity: 1;
        }

        .carousel-arrow:hover {
            background: linear-gradient(135deg, rgba(37, 99, 235, 0.25), rgba(37, 99, 235, 0.15));
            transform: scale(1.1);
            box-shadow: 0 8px 20px rgba(37, 99, 235, 0.3);
            border-color: rgba(37, 99, 235, 0.4);
            color: #ffffff;
        }

        .carousel-arrow:active {
            transform: scale(0.95);
        }

        .carousel-arrow.disabled {
            opacity: 0.3;
            cursor: not-allowed;
        }

        .carousel-arrow.disabled:hover {
            background: rgba(255, 255, 255, 0.05);
            border-color: rgba(255, 255, 255, 0.1);
            transform: scale(1);
        }

        .carousel-dots {
            display: flex;
            gap: 10px;
        }

        .carousel-dot {
            width: 10px;
            height: 10px;
            border-radius: 50%;
            background: rgba(255, 255, 255, 0.2);
            cursor: pointer;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            position: relative;
            border: 1px solid transparent;
        }

        .carousel-dot:hover {
            background: rgba(255, 255, 255, 0.35);
            transform: scale(1.15);
        }

        .carousel-dot.active {
            background: linear-gradient(135deg, rgba(37, 99, 235, 1), rgba(59, 130, 246, 0.9));
            transform: scale(1.3);
            box-shadow: 0 2px 8px rgba(37, 99, 235, 0.5), 0 0 12px rgba(37, 99, 235, 0.3);
            border-color: rgba(255, 255, 255, 0.2);
        }

        @media (max-width: 768px) {
            .testimonial-card {
                min-width: 90vw;
            }

            .carousel-arrow {
                width: 40px;
                height: 40px;
            }
        }

        /* Contact + Footer */
        .contact {
            display: grid;
            grid-template-columns: 1fr 320px;
            gap: 20px;
            margin-top: 150px;
            align-items: start;
        }

        @media (max-width: 980px) {
            .contact {
                grid-template-columns: 1fr;
            }
        }

        .contact .text {
            color: rgba(255, 255, 255, 0.9);
        }

        .contact .card {
            padding: 18px;
        }

        .mini-cta {
            display: inline-block;
            padding: 10px 14px;
            border-radius: 10px;
            background: linear-gradient(180deg, var(--silver), #bfc3c8);
            color: #071014;
            font-weight: 700;
            text-decoration: none;
        }

        footer {
            padding: 32px 0;
            color: var(--muted);
            border-top: 1px solid rgba(255, 255, 255, 0.06);
            background: linear-gradient(180deg, transparent, rgba(0, 0, 0, 0.3));
            position: relative;
        }

        footer::before {
            content: '';
            position: absolute;
            top: 0;
            left: 50%;
            transform: translateX(-50%);
            width: 60%;
            height: 1px;
            background: linear-gradient(90deg, transparent, rgba(37, 99, 235, 0.3), transparent);
        }


        /* --- NEW: Stats section - SMOOTH FLOW (builds trust after problem) --- */
        section.stats {
            padding: 70px 0 var(--section-gap);
            border-top: none;
            border-bottom: none;
            background: linear-gradient(180deg,
                transparent 0%,
                rgba(37, 99, 235, 0.06) 15%,
                rgba(37, 99, 235, 0.10) 50%,
                rgba(37, 99, 235, 0.06) 85%,
                transparent 100%);
        }

        .stats h2 {
            font-family: 'Space Grotesk', 'Inter';
            font-weight: 700;
            font-size: var(--h2);
            margin: 0 0 6px;
            text-shadow: 0 2px 20px rgba(37, 99, 235, 0.3), 0 4px 8px rgba(0, 0, 0, 0.3);
            letter-spacing: -0.02em;
        }

        .stats p.lead {
            margin: 0;
            color: var(--muted);
            font-size: var(--lead);
            line-height: 1.6;
        }

        .kpis {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 16px;
            margin-top: 22px;
        }

        .kpi {
            background: linear-gradient(135deg, rgba(255, 255, 255, 0.04), rgba(255, 255, 255, 0.02));
            border: 1.5px solid rgba(255, 255, 255, 0.08);
            border-radius: var(--radius);
            padding: 24px;
            position: relative;
            overflow: hidden;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
        }

        .kpi::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 3px;
            background: linear-gradient(90deg, rgba(37, 99, 235, 0.6), rgba(139, 92, 246, 0.6));
            opacity: 0;
            transition: opacity 0.3s ease;
        }

        .kpi:hover {
            transform: translateY(-4px);
            border-color: rgba(37, 99, 235, 0.3);
            box-shadow: 0 12px 30px rgba(37, 99, 235, 0.15), 0 4px 12px rgba(0, 0, 0, 0.2);
        }

        .kpi:hover::before {
            opacity: 1;
        }

        .kpi .value {
            font-family: 'Space Grotesk', 'Inter';
            font-size: clamp(28px, 4vw, 42px);
            font-weight: 700;
            letter-spacing: -0.02em;
            color: #e6e8ed;
            text-shadow: 0 2px 8px rgba(37, 99, 235, 0.2);
        }

        .kpi .label {
            color: #b9bec6;
            font-weight: 500;
            margin-top: 6px;
        }

        .kpi .foot {
            color: #7b7f86;
            font-size: 13px;
            margin-top: 8px;
        }

        @media (max-width: 1040px) {
            .kpis {
                grid-template-columns: repeat(2, 1fr);
            }
        }

        @media (max-width: 640px) {
            .kpis {
                grid-template-columns: 1fr;
            }
        }

        /* --- NEW: Products static grid - DISTINCT (major section) --- */
        .products {
            margin-top: 140px;
            padding-top: var(--section-gap);
            padding-bottom: var(--section-gap);
            background: linear-gradient(180deg,
                rgba(12, 14, 20, 0.65) 0%,
                rgba(14, 16, 22, 0.80) 50%,
                rgba(12, 14, 20, 0.65) 100%);
            border-top: 1px solid rgba(255, 255, 255, 0.08);
            position: relative;
        }

        .products::before {
            content: '';
            position: absolute;
            top: 0;
            left: 50%;
            transform: translateX(-50%);
            width: 70%;
            height: 1px;
            background: linear-gradient(90deg, transparent, rgba(37, 99, 235, 0.25), transparent);
        }

        .product-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 16px;
        }

        @media (max-width: 980px) {
            .product-grid {
                grid-template-columns: 1fr 1fr;
            }
        }

        @media (max-width: 640px) {
            .product-grid {
                grid-template-columns: 1fr;
            }
        }

        .product-card {
            position: relative;
            background: linear-gradient(135deg, rgba(15, 17, 22, 0.95), rgba(20, 23, 30, 0.95));
            border: 1px solid rgba(255, 255, 255, 0.08);
            border-radius: 16px;
            padding: 20px;
            display: grid;
            gap: 8px;
            box-shadow: 0 8px 24px rgba(0, 0, 0, 0.3), inset 0 1px 0 rgba(255, 255, 255, 0.05);
            overflow: hidden;
        }

        .product-card::after {
            content: "";
            position: absolute;
            inset: 0;
            background: radial-gradient(700px 240px at 80% -20%, rgba(64, 113, 229, 0.08), transparent 60%);
            pointer-events: none;
            transition: opacity 0.3s ease;
        }

        .product-card:hover::after {
            opacity: 1.5;
            background: radial-gradient(700px 240px at 80% -20%, rgba(64, 113, 229, 0.15), transparent 60%);
        }

        .product-card .tag {
            display: inline-flex;
            align-items: center;
            gap: 8px;
            width: fit-content;
            font-size: 12px;
            padding: 6px 12px;
            border-radius: 999px;
            background: linear-gradient(135deg, rgba(37, 99, 235, 0.15), rgba(37, 99, 235, 0.08));
            color: #cfe0ff;
            border: 1px solid rgba(37, 99, 235, 0.3);
            font-weight: 600;
            letter-spacing: 0.3px;
            box-shadow: 0 2px 8px rgba(37, 99, 235, 0.1), inset 0 1px 0 rgba(255, 255, 255, 0.1);
            transition: all 0.3s ease;
        }

        .product-card:hover .tag {
            background: linear-gradient(135deg, rgba(37, 99, 235, 0.25), rgba(37, 99, 235, 0.15));
            border-color: rgba(37, 99, 235, 0.5);
            box-shadow: 0 4px 12px rgba(37, 99, 235, 0.2), inset 0 1px 0 rgba(255, 255, 255, 0.15);
            transform: translateY(-2px);
        }

        .product-card h3 {
            position: relative;
            z-index: 1;
            margin: 0;
            font-family: 'Space Grotesk', 'Inter', system-ui;
            font-weight: 700;
            color: #ffffff;
            letter-spacing: .01em;
            font-size: 1.15rem;
        }

        .product-card p {
            margin: 0;
            color: rgba(255, 255, 255, 0.82);
        }

        .product-card .meta {
            color: #8b90a0;
            font-size: 13px;
        }

        .product-card {
            position: relative;
            overflow: hidden;
            display: flex;
            flex-direction: column;
            text-align: left;
            min-height: 280px;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            cursor: pointer;
        }

        .product-card:hover {
            transform: translateY(-6px) scale(1.02);
            box-shadow: 0 20px 50px rgba(37, 99, 235, 0.3), 0 8px 16px rgba(0, 0, 0, 0.4), inset 0 1px 0 rgba(255, 255, 255, 0.1);
            border-color: rgba(37, 99, 235, 0.5);
        }

        .product-card .tag {
            display: inline-flex;
            margin-bottom: 16px;
        }

        .product-card h3 {
            margin: 0 0 12px;
            position: relative;
            z-index: 1;
        }

        .product-card p {
            margin: 0 0 16px;
            position: relative;
            z-index: 1;
            color: rgba(255, 255, 255, 0.82);
            line-height: 1.6;
            flex-grow: 1;
        }

        .product-card .meta {
            margin: auto 0 0 0;
            position: relative;
            z-index: 1;
            padding-top: 16px;
            border-top: 1px solid rgba(255, 255, 255, 0.08);
        }

        .product-card .learn-more {
            display: inline-flex;
            align-items: center;
            gap: 6px;
            margin-top: 12px;
            color: var(--mint);
            font-size: 0.9rem;
            font-weight: 600;
            text-decoration: none;
            opacity: 0;
            transform: translateX(-8px);
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            position: relative;
        }

        .product-card .learn-more::before {
            content: '';
            position: absolute;
            bottom: -2px;
            left: 0;
            width: 0;
            height: 2px;
            background: linear-gradient(90deg, var(--mint), rgba(37, 99, 235, 0.6));
            transition: width 0.3s ease;
        }

        .product-card:hover .learn-more {
            opacity: 1;
            transform: translateX(0);
            text-shadow: 0 2px 8px rgba(37, 99, 235, 0.4);
        }

        .product-card:hover .learn-more::before {
            width: calc(100% - 24px);
        }

        .product-card .learn-more::after {
            content: "→";
            font-size: 1rem;
            transition: transform 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }

        .product-card:hover .learn-more::after {
            transform: translateX(6px) scale(1.1);
        }

        /* Remove old hover reveal system */
        .hover-reveal {
            display: none;
        }

        @keyframes cursor-blink {
            0%, 49% {
                opacity: 1;
            }
            50%, 100% {
                opacity: 0;
            }
        }


        /* --- NEW: reveal-on-scroll --- */
        .reveal {
            opacity: 0;
            transform: translateY(30px);
            transition: opacity 0.8s cubic-bezier(0.4, 0, 0.2, 1), transform 0.8s cubic-bezier(0.4, 0, 0.2, 1);
        }

        .reveal.is-visible {
            opacity: 1;
            transform: none;
        }

        @media (prefers-reduced-motion: no-preference) {
            .reveal {
                transition: opacity 0.9s cubic-bezier(0.25, 0.46, 0.45, 0.94), transform 0.9s cubic-bezier(0.25, 0.46, 0.45, 0.94);
            }
        }

        /* Typewriter effect for "What are we?" box */
        .typewriter-wrap {
            display: inline-block;
            font-family: 'IBM Plex Mono', 'Space Grotesk', 'Inter', system-ui, monospace;
            font-weight: 500;
            font-size: clamp(0.9rem, 1.6vw, 1.05rem);
            line-height: 1.6;
            color: #ffffff;
            white-space: nowrap;
        }

        .typewriter {
            position: relative;
            background: none;
            color: #ffffff;
        }

        /* Blinking caret */
        .typewriter::after {
            content: "";
            display: inline-block;
            width: 2px;
            height: 1em;
            vertical-align: -0.15em;
            margin-left: 4px;
            background: currentColor;
            animation: tw-blink 0.9s steps(1, end) infinite;
        }

        @keyframes tw-blink {
            50% {
                opacity: 0;
            }
        }

        @media (prefers-reduced-motion: reduce) {
            .typewriter::after {
                animation: none;
            }
        }

        /*CHALLENGE PRICES SECTION - DISTINCT (pricing/offers are important)*/
        .challenge-offers {
            padding: var(--section-gap) 0;
            background: linear-gradient(180deg,
                rgba(10, 10, 12, 0.7) 0%,
                rgba(10, 10, 12, 0.85) 50%,
                rgba(10, 10, 12, 0.7) 100%);
            border-top: 1px solid rgba(255, 255, 255, 0.06);
            border-bottom: 1px solid rgba(255, 255, 255, 0.06);
            color: #fff;
        }

        .challenge-offers h2 {
            font-size: var(--h2);
            margin-bottom: 12px;
            font-family: 'Space Grotesk', sans-serif;
        }

        .challenge-offers .subtext {
            font-size: var(--lead);
            color: var(--muted);
            max-width: 60ch;
            margin-bottom: 32px;
        }

        .balance-selector {
            display: flex;
            flex-wrap: wrap;
            gap: 12px;
            margin-bottom: 32px;
            align-items: center;
        }

        .balance-selector span {
            font-weight: 500;
            font-size: 1rem;
        }

        .balance-btn {
            padding: 8px 16px;
            background: #1a1d24;
            border: 1px solid #2e2f35;
            border-radius: 6px;
            color: #cfe0ff;
            cursor: pointer;
            font-size: 0.95rem;
        }

        .balance-btn.active {
            background: #2563eb;
            border-color: #2563eb;
            color: #fff;
        }

        table.terms-table {
            width: 100%;
            border-collapse: collapse;
            font-size: 0.95rem;
        }

        table.terms-table th,
        table.terms-table td {
            padding: 20px 12px; /* top/bottom 20px makes the cell taller */
            height: 60px; /* optional: forces a minimum height */
        }


        .table-row {
            display: grid;
            grid-template-columns: 1.2fr 1fr 1fr 1fr;
            gap: 10px;
            margin-bottom: 10px;
            transition: all 0.2s ease;
        }

        .table-row.header {
            margin-bottom: 24px;
        }

        .table-row:not(.header):hover {
            background: rgba(139, 92, 246, 0.03);
        }

        .cell {
            padding: 20px 16px;
            background: rgba(26, 28, 34, 0.6);
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            text-align: center;
            font-weight: 400;
            border: 1px solid rgba(43, 45, 52, 0.4);
            transition: background 0.2s ease, border-color 0.2s ease;
        }

        .cell.label {
            font-weight: 600;
            background: linear-gradient(135deg, rgba(37, 99, 235, 0.15), rgba(37, 99, 235, 0.08));
            justify-content: flex-start;
            text-align: left;
            color: #ffffff;
            border: 1px solid rgba(37, 99, 235, 0.3);
            font-size: 0.98rem;
            letter-spacing: 0.01em;
        }

        .cell.head {
            font-weight: 700;
            font-size: 1.05rem;
            background: linear-gradient(135deg, rgba(37, 99, 235, 0.25), rgba(37, 99, 235, 0.15));
            justify-content: center;
            text-align: center;
            color: #ffffff;
            border: 1px solid rgba(37, 99, 235, 0.4);
            padding: 24px 16px;
            letter-spacing: 0.02em;
        }

        /* Highlighted column (Certified Trader) */
        .cell.highlight {
            background: rgba(139, 92, 246, 0.12);
            border-left: 3px solid #8b5cf6;
            border-right: 3px solid #8b5cf6;
            box-shadow: 0 0 30px rgba(139, 92, 246, 0.4);
            position: relative;
        }

        .cell.head.highlight {
            color: #8b5cf6;
            font-size: 1.15rem;
            background: rgba(139, 92, 246, 0.15);
            position: relative;
        }

        .cell.head.highlight::before {
            content: '★';
            position: absolute;
            top: -32px;
            left: 50%;
            transform: translateX(-50%);
            font-size: 24px;
            color: #8b5cf6;
        }

        .cell.highlight:not(.head) {
            color: #ffffff;
            font-weight: 600;
            font-size: 1rem;
        }

        .cell:not(.label):not(.empty):not(.head):not(.highlight) {
            background: rgba(19, 21, 27, 0.8);
            color: rgba(255, 255, 255, 0.9);
        }

        .cell:not(.label):not(.empty):not(.head):not(.highlight):hover {
            background: rgba(26, 28, 34, 0.95);
            border-color: rgba(43, 45, 52, 0.6);
        }

        .cell.empty {
            background: rgba(19, 21, 27, 0.8);
            border: none;
        }

        /* Checkmarks and crosses */
        .cell .check {
            color: #10b981;
            font-size: 28px;
            font-weight: 700;
        }

        .cell .cross {
            color: #9ea0a6;
            opacity: 0.4;
            font-size: 24px;
        }

        @media (max-width: 780px) {
            .table-row {
                grid-template-columns: 1fr 1fr;
                grid-auto-rows: auto;
                grid-template-areas:
      "label label"
      "step1 step2";
            }

            .terms-table {
                font-size: 0.9rem;
            }

            .table-row.header {
                display: none;
            }
        }

        .flow-divider {
            position: relative;
            height: 60vh;
            min-height: 400px;
            width: 100%;
            overflow: hidden;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            background: linear-gradient(180deg,
            transparent 0%,
            rgba(18, 22, 32, 0.02) 15%,
            rgba(18, 22, 32, 0.15) 40%,
            rgba(18, 22, 32, 0.5) 70%,
            rgba(18, 22, 32, 0.85) 90%,
            #121620 100%);
        }

        #flowLines {
            position: absolute;
            inset: 0;
            width: 100%;
            height: 100%;
            display: block;
            pointer-events: none;
            opacity: 0.85;
            mask-image: linear-gradient(to bottom,
            transparent 0%,
            rgba(0,0,0,0.3) 10%,
            rgba(0,0,0,0.9) 25%,
            black 40%,
            black 70%,
            rgba(0,0,0,0.7) 90%,
            transparent 100%);
            /*
            -webkit-mask-image: linear-gradient(to bottom,
            transparent 0%,
            rgba(0,0,0,0.3) 10%,
            rgba(0,0,0,0.9) 25%,
            black 40%,
            black 70%,
            rgba(0,0,0,0.7) 90%,
            transparent 100%);
            */
        }


        .staircase-title {
            position: relative;
            z-index: 2;
            font-family: 'Space Grotesk', 'Inter', system-ui;
            font-size: var(--h2);
            font-weight: 700;
            color: #ffffff;
            text-align: center;
            max-width: 800px;
            margin-top: 60px;
            padding: 40px 20px 0;
        }

        .staircase-subtitle {
            position: relative;
            z-index: 2;
            font-size: var(--lead);
            color: rgba(255, 255, 255, 0.85);
            line-height: 1.6;
            text-align: center;
            max-width: 800px;
            margin: 0 auto 40px;
            padding: 0 20px;
        }

    </style>
</head>
<script>
    // underline animation
    window.addEventListener('load', () => {
        document.body.classList.add('loaded');
    });

    // start flicker after DOM is ready
    document.addEventListener('DOMContentLoaded', () => {
        const nodes = document.querySelectorAll('.flicker-word');
        if (!nodes.length) return;

        nodes.forEach(el => {
            const reduceMotion = window.matchMedia('(prefers-reduced-motion: reduce)').matches;
            const forced = el.dataset.flicker === 'force';
            if (reduceMotion && !forced) return; // respect OS setting unless forced

            function flickerOnce() {
                // 1–3 quick dips for an organic feel
                const bursts = 1 + Math.floor(Math.random() * 3);
                let i = 0;

                function dip() {
                    el.classList.add('is-flicker');
                    setTimeout(() => {
                        el.classList.remove('is-flicker');
                        i++;
                        if (i < bursts) {
                            setTimeout(dip, 40 + Math.random() * 120);
                        } else {
                            scheduleNext();
                        }
                    }, 80 + Math.random() * 140);
                }

                dip();
            }

            function scheduleNext() {
                // wait 1.8s–6s between flickers
                const wait = 1800 + Math.random() * 4200;
                setTimeout(flickerOnce, wait);
            }

            scheduleNext();
        });
    });
</script>
<script>
    document.addEventListener('DOMContentLoaded', () => {
        // Typewriter for .af-typewriter
        const tw = document.querySelector('.af-typewriter');
        if (tw) {
            const phrasesAttr = tw.dataset.phrases || '';
            const phrases = phrasesAttr.split('|').map(s => s.trim()).filter(Boolean);
            const reduced = window.matchMedia('(prefers-reduced-motion: reduce)').matches;

            if (!reduced && phrases.length) {
                const TYPE = 12, ERASE = 8, HOLD1 = 1600, HOLD2 = 600;
                let i = 0, j = 0, typing = true;

                const tick = () => {
                    if (typing) {
                        tw.textContent = phrases[i].slice(0, ++j);
                        if (j === phrases[i].length) {
                            typing = false;
                            setTimeout(tick, HOLD1);
                        } else {
                            setTimeout(tick, TYPE);
                        }
                    } else {
                        tw.textContent = phrases[i].slice(0, --j);
                        if (j === 0) {
                            typing = true;
                            i = (i + 1) % phrases.length;
                            setTimeout(tick, HOLD2);
                        } else {
                            setTimeout(tick, ERASE);
                        }
                    }
                };

                // Start the animation
                setTimeout(tick, 500);
            } else if (phrases[0]) {
                tw.textContent = phrases[0];
            }
        }

        // Reveal-on-scroll
        const steps = document.querySelectorAll('.af-step');
        if (steps.length) {
            const io = new IntersectionObserver((entries, obs) => {
                for (const e of entries) {
                    if (e.isIntersecting) {
                        e.target.classList.add('is-inview');
                        obs.unobserve(e.target);
                    }
                }
            }, {threshold: 0.25});
            steps.forEach(s => io.observe(s));
        }
    });
</script>

<body>
<header>
    <div class="container nav">
        <a class="brand" href="index.html">
            <img src="/assets/images/favicon.ico" alt="IPFX logo"/>
            <b>IPFX&nbsp;CAPITAL</b>
        </a>
        <nav>
            <div class="menu" id="menu">
                <div class="dropdown">
                    <span class="dropdown-btn">Services ▾</span>
                    <ul>
                        <li><a href="infinity.html">Infinity Challenge</a></li>
                        <li><a href="personalised-challenge.html">Personalised Application Challenge</a></li>
                        <li><a href="trading-pot.html">Social Trading / Pot</a></li>
                    </ul>
                </div>
                <a href="faq.html">FAQ</a>
                <a href="about.html">About Us</a>
                <a href="contact.html">Contact</a>
                <span class="sep" aria-hidden="true"></span>
                <a href="login.html">Login</a>
            </div>
        </nav>
    </div>
</header>

<main>
    <!-- HERO -->
    <section class="hero">
        <div class="container grid">
            <div class="hero-copy reveal">
                <h1 class="headline">Get Funded Without Paying Upfront — Keep <span class="hl">80%</span> of What You Earn</h1>

                <p class="subhead">Prove your skill. We provide capital. No buy-in required. Scale infinitely as you perform.<br><span
                        class="underline-load flicker-word" data-flicker="force">Zero cost to start.</span>
                </p>
                <div class="cta-row">
                    <a class="btn btn-primary" href="infinity.html">Start Free Challenge — No Credit Card</a>
                    <a class="btn btn-secondary" href="#about-flow">See How It Works</a>
                </div>
            </div>
            <div class="chart-box reveal"><canvas id="candles" aria-hidden="true"></canvas></div>
        </div>
    </section>

    <!-- THE PROBLEM: Industry Pain Points -->
    <section class="problem-section" aria-labelledby="problem-heading">
        <div class="container">
            <h2 id="problem-heading" class="reveal">Traditional Prop Firms Are Broken</h2>
            <p class="intro reveal">99.3% of traders never receive their first payout. The industry profits from your failures, not your success. Here's why:</p>

            <div class="problem-grid">
                <article class="problem-card reveal">
                    <h3>Pay $300-$500 Upfront</h3>
                    <p>Most firms charge entry fees you lose on failure. They make money whether you succeed or not.</p>
                </article>

                <article class="problem-card reveal">
                    <h3>Impossible Targets</h3>
                    <p>Strict profit targets with harsh drawdown limits designed to fail you. Hidden rules change after you pay.</p>
                </article>

                <article class="problem-card reveal">
                    <h3>Only 0.007% Get Paid</h3>
                    <p>Industry data shows barely anyone receives payouts. Firms optimize for challenge fees, not trader success.</p>
                </article>

                <article class="problem-card reveal">
                    <h3>Restart From Zero</h3>
                    <p>One bad day and months of progress vanish. You pay again to restart. It's designed to drain you.</p>
                </article>
            </div>

            <div class="solution-teaser reveal">
                <p>→ We built IPFX to fix this. Our model only works when you profit.</p>
                <a class="btn btn-primary" href="#about-flow" style="margin-top: 8px;">See How We're Different</a>
            </div>
        </div>
    </section>

    <!-- NEW: STATS / NUMBERS -->
    <section class="stats" aria-labelledby="stats-heading">
        <div class="container">
            <h2 id="stats-heading" class="reveal">Numbers that build trust.</h2>
            <p class="lead reveal">Institutional clarity: independently verifiable KPIs that reflect our incentives and
                your outcomes.</p>

            <div class="kpis">
                <article class="kpi reveal" data-kpi="traders-funded">
                    <div class="value" data-countup>1,248</div>
                    <div class="label">Traders funded</div>
                    <div class="foot">Across all programmes</div>
                </article>
                <article class="kpi reveal" data-kpi="capital-deployed">
                    <div class="value live-count" data-countup>3,000</div>
                    <div class="label">Pre-registered members</div>
                    <div class="foot">Aggregate mirrored exposure</div>
                </article>
                <article class="kpi reveal" data-kpi="payout-time">
                    <div class="value" data-countup>10 min</div>
                    <div class="label">Average payout time</div>
                    <div class="foot">From request to receipt</div>
                </article>
                <article class="kpi reveal" data-kpi="scaled-traders">
                    <div class="value" data-countup>312</div>
                    <div class="label">Scaled to real capital</div>
                    <div class="foot">Active A-book users</div>
                </article>
            </div>

            <div class="reveal" style="text-align: center; margin-top: 48px;">
                <p style="color: var(--muted); font-size: var(--lead); margin-bottom: 16px;">
                    Join 3,000+ pre-registered traders proving their edge
                </p>
                <a class="btn btn-primary" href="infinity.html">Start Your Free Challenge</a>
            </div>
        </div>
    </section>

    <!-- ABOUT + HOW WE WORK (left stack + spine + sticky typewriter) -->
    <section id="about-flow" class="aboutflow" aria-labelledby="af-heading">
        <div class="af-grid">
            <!-- LEFT -->
            <ol class="af-zig">
                <li class="af-step">
                    <span class="af-node" aria-hidden="true"></span>
                    <div class="af-card">
                        <h3>Start free, prove your edge</h3>
                        <p>Upload your track record or start fresh. We assess potential, not your bank balance.</p>
                    </div>
                </li>
                <li class="af-step">
                    <span class="af-node" aria-hidden="true"></span>
                    <div class="af-card">
                        <h3>Get paid while you learn</h3>
                        <p>Trade with simulated funds, receive real payouts. Withdraw profits immediately as you perform.</p>
                    </div>
                </li>
                <li class="af-step">
                    <span class="af-node" aria-hidden="true"></span>
                    <div class="af-card">
                        <h3>Graduate to real capital</h3>
                        <p>Consistent traders unlock direct market access. You control real funds, we provide insurance and liquidity.</p>
                    </div>
                </li>
                <li class="af-step">
                    <span class="af-node" aria-hidden="true"></span>
                    <div class="af-card">
                        <h3>Scale infinitely, never restart</h3>
                        <p>Bad days don't reset progress. Our insurance protects your access. Focus on trading, not survival.</p>
                    </div>
                </li>
            </ol>

            <!-- CENTER spine -->
            <div class="af-spine" aria-hidden="true"></div>

            <!-- RIGHT sticky typewriter -->
            <aside class="af-right" aria-labelledby="about-title">
                <div class="af-typebox">
                    <h2 id="about-title">About IPFX</h2>
                    <p class="af-typewriter" data-phrases=
                            "Show us your trade history, or let us track your live positions. We assess skill, not past capital.|
                            Start risk-free with simulated funds. Your profits are real—we pay you while you prove consistency.|
                            As you perform, we scale your account. Withdrawals begin immediately, no waiting periods.|
                            Consistent traders graduate to control real capital. You trade, we provide liquidity and insurance.|
                            Our account insurance protects you from drawdown resets. Bad days don't erase months of progress.|
                            We only profit when you profit. Your success is our business model, not your entry fees.|
                            Questions? Contact us anytime. We respond personally to every trader.|
                            Ready to start? No credit card. No risk. Just prove your edge.|">
                    </p>
                </div>
            </aside>
        </div>
    </section>

    <!--
    
    <section class="flow-divider">
        !--
        <h2 id="staircase-heading" class="staircase-title reveal">Ascend The Infinity Challenge</h2>
        <p class="staircase-subtitle reveal">Scale your capital infinitely through consistent performance. Each level
            unlocks greater potential.</p>
        --
        <canvas id="flowLines"></canvas>
    </section>

    -->

    <!-- NEW: PRODUCTS (STATIC GRID) -->
    <section id="products" class="products" aria-label="Products">
        <div class="container">
            <h2 class="reveal" style="font-family:'Space Grotesk','Inter'; font-size:var(--h2); margin:0 0 6px;">
                Choose Your Funding Path</h2>
            <p class="reveal" style="margin:0 0 16px; color:var(--muted); font-size:var(--lead); margin-bottom: 15px">Six ways to get funded. From completely free to fully customizable—find what fits your trading style.</p>

            <div class="product-grid">
                <article class="product-card reveal">
                    <span class="tag">🔥 Most Popular</span>
                    <h3>Infinity Challenge</h3>
                    <p>Start with zero cost. Double your capital every +10% gain. Prove consistency and transition to real funded accounts with live payouts.</p>
                    <div class="meta">Free entry • Infinite scaling</div>
                    <a href="infinity.html" class="learn-more">Learn more</a>
                </article>

                <article class="product-card reveal">
                    <span class="tag">Customize everything</span>
                    <h3>Personalized Challenge</h3>
                    <p>Set your own target, drawdown limits, duration, and account size. Pay only if you fail—we align incentives with yours.</p>
                    <div class="meta">No upfront fees • You set rules</div>
                    <a href="personalised-challenge.html" class="learn-more">Learn more</a>
                </article>

                <article class="product-card reveal">
                    <span class="tag">Protect your progress</span>
                    <h3>Account Insurance</h3>
                    <p>Hit a drawdown? Keep your account by sacrificing a portion of pending profit. Bad days won't erase months of work.</p>
                    <div class="meta">Never restart from zero</div>
                    <a href="#" class="learn-more">Learn more</a>
                </article>

                <article class="product-card reveal">
                    <span class="tag">Copy top traders</span>
                    <h3>Social Trading Pot</h3>
                    <p>Mirror verified traders with transparent track records. Buy into the pot, share profits. Perfect for beginners learning the ropes.</p>
                    <div class="meta">No experience needed</div>
                    <a href="trading-pot.html" class="learn-more">Learn more</a>
                </article>

                <article class="product-card reveal">
                    <span class="tag">Classic model</span>
                    <h3>Traditional Challenge</h3>
                    <p>Prefer the standard two-phase challenge? We offer the lowest fees in the industry with instant capital deployment.</p>
                    <div class="meta">From $49 • Fast approval</div>
                    <a href="#traditional-challenge" class="learn-more">See pricing</a>
                </article>

                <article class="product-card reveal">
                    <span class="tag">Risk management</span>
                    <h3>AI & Behavioral Oversight</h3>
                    <p>Automated consistency checks with manual review for edge cases. We interact personally with each trader to ensure fair evaluation.</p>
                    <div class="meta">Fair & transparent</div>
                    <a href="about.html" class="learn-more">Learn more</a>
                </article>
            </div>

            <div class="reveal" style="text-align: center; margin-top: 56px;">
                <h3 style="font-family: 'Space Grotesk', 'Inter'; font-size: 1.4rem; color: #ffffff; margin: 0 0 12px;">
                    Not sure which program fits you?
                </h3>
                <p style="color: var(--muted); font-size: var(--lead); margin-bottom: 20px;">
                    Start with Infinity Challenge—it's free, and you can always upgrade
                </p>
                <div style="display: flex; gap: 16px; justify-content: center; flex-wrap: wrap;">
                    <a class="btn btn-primary" href="infinity.html">Start Infinity Challenge Free</a>
                    <a class="btn btn-secondary" href="contact.html">Talk to Our Team</a>
                </div>
            </div>
        </div>
    </section>
</main>

<!--WHY US-->
<section class="full-bg-section">
    <div class="why-us-container">
        <!-- Left stats visualization -->
        <div class="why-us-image">
            <div class="stat-visual-card">
                <div class="stat-comparison">
                    <div class="stat-item stat-bad">
                        <div class="stat-icon">⚠</div>
                        <div class="stat-value">0.007%</div>
                        <div class="stat-label">Traditional Prop Firms</div>
                        <div class="stat-sublabel">Get first payout</div>
                    </div>
                    <div class="stat-arrow">→</div>
                    <div class="stat-item stat-good">
                        <div class="stat-icon">✓</div>
                        <div class="stat-value">23.4%</div>
                        <div class="stat-label">IPFX Capital</div>
                        <div class="stat-sublabel">Active funded traders</div>
                    </div>
                </div>
                <div class="stat-note">*Industry averages vs IPFX internal metrics (Q4 2024)</div>
            </div>
        </div>

        <!-- Vertical separator -->
        <div class="why-us-separator" aria-hidden="true"></div>

        <!-- Right text content -->
        <div class="why-us-content">
            <h2>Why IPFX is different</h2>
            <p>
                Traditional prop firms profit from your <strong>failures</strong>—charging entry fees that 99.3% of traders never recover.
                We flipped the model: <strong>we only profit when you profit</strong>.
            </p>
            <p style="margin-top: 20px;">
                No upfront costs. No predatory targets. No restart fees. Just transparent scaling based on your proven skill.
            </p>
            <a class="btn btn-secondary" href="infinity.html" style="margin-top: 24px; display: inline-flex;">Join the 23.4% →</a>
        </div>
    </div>
</section>

<!-- DUAL PATH FORK: Choose Your Path -->
<section class="dual-path-section" aria-labelledby="path-heading">
    <div class="container">
        <h2 id="path-heading" class="reveal">Choose Your Path</h2>
        <p class="intro reveal">Two distinct approaches to getting funded. Pick the one that matches your experience level.</p>

        <div class="path-fork">
            <!-- LEFT PATH: Infinity Challenge (Learning Traders) -->
            <article class="path-option path-left reveal">
                <span class="path-badge">Free • Start Today</span>
                <span class="path-icon">∞</span>
                <h3 class="path-title">Infinity Challenge</h3>
                <p class="path-description">
                    For traders learning their edge. Start with zero cost, prove consistency, scale infinitely as you perform.
                </p>

                <ul class="path-features">
                    <li>Completely free entry — no credit card</li>
                    <li>Start with $10K simulated capital</li>
                    <li>Double your account every +10% gain</li>
                    <li>Real payouts while you prove consistency</li>
                    <li>Graduate to real capital when ready</li>
                </ul>

                <a href="infinity.html" class="path-cta">Start Infinity Challenge</a>
            </article>

            <!-- RIGHT PATH: PAC (Experienced Traders) -->
            <article class="path-option path-right reveal">
                <span class="path-badge">For Experts • Custom Terms</span>
                <span class="path-icon">⚡</span>
                <h3 class="path-title">Personalized Challenge</h3>
                <p class="path-description">
                    For experienced traders who know their capabilities. Set your own rules, trade your way, pay only if you fail.
                </p>

                <ul class="path-features">
                    <li>Set your own profit targets & drawdowns</li>
                    <li>Choose your account size & duration</li>
                    <li>Pay only if you fail your terms</li>
                    <li>Account insurance protects your progress</li>
                    <li>Earn passive income via signal sharing</li>
                </ul>

                <a href="personalised-challenge.html" class="path-cta">Apply for PAC</a>
            </article>
        </div>
    </div>
</section>

<!--CHALLENGE OFFERS-->
<section id="traditional-challenge" class="challenge-offers">
    <div class="container">
        <h2>Traditional Challenge Offers</h2>
        <p class="subtext">
            You still want to pay for capital rather than have it for free?
            Here, choose your preferred account size below and get started.
            All the challenges follow the classic two-step structure alongside usual rules.
        </p>


        <div class="balance-selector">
            <span>Select Capital Size:</span>
            <button class="balance-btn active" data-size="10000">$10,000</button>
            <button class="balance-btn" data-size="25000">$25,000</button>
            <button class="balance-btn" data-size="50000">$50,000</button>
            <button class="balance-btn" data-size="100000">$100,000</button>
            <button class="balance-btn" data-size="200000">$200,000</button>
        </div>


        <div class="terms-table">
            <div class="table-row header">
                <div class="cell empty"></div>
                <div class="cell head">Challenge</div>
                <div class="cell head">Verification</div>
                <div class="cell head highlight">Certified Trader</div>
            </div>


            <div class="table-row">
                <div class="cell label">Trading Period</div>
                <div class="cell">Unlimited</div>
                <div class="cell">Unlimited</div>
                <div class="cell highlight">Unlimited</div>
            </div>


            <div class="table-row">
                <div class="cell label">Minimum Trading Days</div>
                <div class="cell">4 Days</div>
                <div class="cell">4 Days</div>
                <div class="cell highlight">X</div>
            </div>


            <div class="table-row">
                <div class="cell label">Max Daily Loss</div>
                <div class="cell daily-loss"></div>
                <div class="cell daily-loss"></div>
                <div class="cell daily-loss highlight"></div>
            </div>


            <div class="table-row">
                <div class="cell label">Max Total Loss</div>
                <div class="cell total-loss"></div>
                <div class="cell total-loss"></div>
                <div class="cell total-loss highlight"></div>
            </div>


            <div class="table-row">
                <div class="cell label">Profit Target</div>
                <div class="cell target"></div>
                <div class="cell target"></div>
                <div class="cell highlight">N/A</div>
            </div>
        </div>
    </div>
</section>


<!-- FEATURES / TESTIMONIALS / CONTACT / FOOTER -->
<div class="full-bg-section end">
    <section class="container">
        <div class="testimonials-section">
            <div class="testimonials-header">
                <h2>Trusted by Traders Worldwide</h2>
                <p>Real stories from real traders who've scaled with IPFX Capital</p>
            </div>

            <div class="testimonials-carousel" id="testimonials-carousel">
                <div class="testimonials-track" id="testimonials-track">
                    <div class="testimonial-card">
                        <div class="testimonial-quote">
                            <p class="testimonial-text">
                                "IPFX Capital completely changed my trading career. I started with the Infinity Challenge at zero cost, proved my consistency, and within 4 months I was trading real capital. The transparency and fair scaling structure is unlike anything I've experienced with other prop firms."
                            </p>
                        </div>
                        <div class="testimonial-author">
                            <div class="author-avatar">AP</div>
                            <div class="author-info">
                                <div class="author-name">Arjun Patel</div>
                                <div class="author-role">Day Trader • Scaled to $100K</div>
                            </div>
                        </div>
                    </div>

                    <div class="testimonial-card">
                        <div class="testimonial-quote">
                            <p class="testimonial-text">
                                "After being burned by traditional prop firms with hidden fees and impossible targets, I found IPFX. The Personalized Application Challenge let me set my own terms. No more cookie-cutter rules. I hit my first payout in 3 weeks and haven't looked back since."
                            </p>
                        </div>
                        <div class="testimonial-author">
                            <div class="author-avatar">JN</div>
                            <div class="author-info">
                                <div class="author-name">Jessica Nguyen</div>
                                <div class="author-role">Swing Trader • 8 Consecutive Payouts</div>
                            </div>
                        </div>
                    </div>

                    <div class="testimonial-card">
                        <div class="testimonial-quote">
                            <p class="testimonial-text">
                                "The account insurance feature saved my trading career. I hit a tough drawdown but didn't lose everything I'd built. IPFX actually wants you to succeed long-term. The support team knows me by name and checks in regularly. This is what proper capital backing should feel like."
                            </p>
                        </div>
                        <div class="testimonial-author">
                            <div class="author-avatar">MR</div>
                            <div class="author-info">
                                <div class="author-name">Marcus Rodriguez</div>
                                <div class="author-role">Forex Trader • A-Book Verified</div>
                            </div>
                        </div>
                    </div>

                    <div class="testimonial-card">
                        <div class="testimonial-quote">
                            <p class="testimonial-text">
                                "I was skeptical about prop firms until I tried IPFX. The 10-minute average payout time isn't marketing fluff—it's real. My first withdrawal request was processed in 7 minutes. The platform is intuitive, the rules are clear, and there's zero ambiguity. This is how trading capital should work."
                            </p>
                        </div>
                        <div class="testimonial-author">
                            <div class="author-avatar">SK</div>
                            <div class="author-info">
                                <div class="author-name">Sarah Kim</div>
                                <div class="author-role">Crypto Trader • $250K Capital</div>
                            </div>
                        </div>
                    </div>

                    <div class="testimonial-card">
                        <div class="testimonial-quote">
                            <p class="testimonial-text">
                                "What impressed me most is that IPFX doesn't profit from trader failures. The alignment of incentives is genuine. When I succeed, they succeed. I've scaled from $10K simulated to $150K real capital in 6 months. The progression feels natural, not gatekept."
                            </p>
                        </div>
                        <div class="testimonial-author">
                            <div class="author-avatar">TW</div>
                            <div class="author-info">
                                <div class="author-name">Thomas Weber</div>
                                <div class="author-role">Institutional Trader • Former Hedge Fund</div>
                            </div>
                        </div>
                    </div>

                    <div class="testimonial-card">
                        <div class="testimonial-quote">
                            <p class="testimonial-text">
                                "The social trading pot system is brilliant. I'm not confident enough to trade my own capital yet, but I can follow verified traders with transparent track records. I'm learning while earning, and when I'm ready, I'll start my own challenge. IPFX has products for every stage of your journey."
                            </p>
                        </div>
                        <div class="testimonial-author">
                            <div class="author-avatar">LC</div>
                            <div class="author-info">
                                <div class="author-name">Lisa Chen</div>
                                <div class="author-role">Beginner Trader • Social Trading Participant</div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="carousel-nav">
                <div class="carousel-arrow" id="carousel-prev">
                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                        <path d="M15 18l-6-6 6-6"/>
                    </svg>
                </div>
                <div class="carousel-dots" id="carousel-dots"></div>
                <div class="carousel-arrow" id="carousel-next">
                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                        <path d="M9 18l6-6-6-6"/>
                    </svg>
                </div>
            </div>
        </div>

        <div class="contact">
            <div class="reveal">
                <h3 style="font-family:'Space Grotesk','Inter'; font-size:1.6rem; margin:0 0 16px; color: #ffffff;">
                    Ready to trade with our capital?
                </h3>
                <p class="text" style="font-size: var(--lead); line-height: 1.6;">
                    No credit card required. No hidden fees. Start proving your edge today.
                </p>
                <div style="display: flex; gap: 16px; margin-top: 24px; flex-wrap: wrap;">
                    <a class="btn btn-primary" href="infinity.html">Get Funded Free</a>
                    <a class="btn btn-secondary" href="contact.html">Contact Us</a>
                </div>
                <p style="margin-top: 20px; font-size: 0.95rem; color: var(--muted);">
                    Questions? Email us at <a href="mailto:enquiries@ipfxcapital.com" style="color:var(--mint); text-decoration: underline;">enquiries@ipfxcapital.com</a>
                </p>
            </div>
        </div>

        <footer>
            <hr style="border:none; border-top:1px solid rgba(255,255,255,0.08); margin:40px 0 32px;">
            <div style="display:flex;justify-content:space-between;align-items:center;gap:1rem;flex-wrap:wrap">
                <div>© <span id="year"></span> IPFX Capital</div>
                <div style="color:var(--muted)">• <a href="#" style="color:var(--mint)">Privacy</a> •
                    <a href="#" style="color:var(--mint)">Terms</a></div>
            </div>
            <hr style="border:none; border-top:1px solid rgba(255,255,255,0.08); margin:32px 0 28px;">

            <div style="font-size:0.85rem; line-height:1.7; color:rgba(255,255,255,0.55); max-width:90ch; margin:0 0 16px; text-align:left;">
                <p style="margin:0 0 12px;"><strong style="color:rgba(255,255,255,0.7);">Risk Disclosure:</strong> Trading derivatives and leveraged products carries significant risk. You may lose more than your initial investment. Past performance does not guarantee future results. IPFX Capital provides access to trading capital but does not guarantee profitability or protection against losses.</p>

                <p style="margin:0 0 12px;"><strong style="color:rgba(255,255,255,0.7);">Regulatory Notice:</strong> IPFX Capital operates as a proprietary trading platform. We are not a licensed broker-dealer or investment adviser. All funded accounts are proprietary and trades are executed on behalf of IPFX Capital, not the individual trader.</p>

                <p style="margin:0;"><strong style="color:rgba(255,255,255,0.7);">Geographic Restrictions:</strong> Services may not be available in all jurisdictions. It is your responsibility to ensure compliance with local laws and regulations. Prohibited jurisdictions include but are not limited to regions where proprietary trading platforms are restricted.</p>
            </div>
        </footer>
    </section>
</div>
<script>
    const terms = {
        10000: {daily: 500, total: 1000, target1: 1000, target2: 500},
        25000: {daily: 1250, total: 2500, target1: 2500, target2: 1250},
        50000: {daily: 2500, total: 5000, target1: 5000, target2: 2500},
        100000: {daily: 5000, total: 10000, target1: 10000, target2: 5000},
        200000: {daily: 10000, total: 20000, target1: 20000, target2: 10000}
    };


    const buttons = document.querySelectorAll('.balance-btn');
    const dailyEls = document.querySelectorAll('.daily-loss');
    const totalEls = document.querySelectorAll('.total-loss');
    const targetEls = document.querySelectorAll('.target');


    buttons.forEach(btn => {
        btn.addEventListener('click', () => {
            buttons.forEach(b => b.classList.remove('active'));
            btn.classList.add('active');


            const size = btn.dataset.size;
            const t = terms[size];
            dailyEls.forEach(el => el.textContent = `$${t.daily.toLocaleString()}`);
            totalEls.forEach(el => el.textContent = `$${t.total.toLocaleString()}`);
            targetEls[0].textContent = `$${t.target1.toLocaleString()}`;
            targetEls[1].textContent = `$${t.target2.toLocaleString()}`;
        });
    });


    // Trigger default
    document.querySelector('.balance-btn.active').click();
</script>
<script>
    // Footer year
    const yearEl = document.getElementById('year');
    if (yearEl) yearEl.textContent = new Date().getFullYear();

    // Reveal on scroll (subtle fade-up 20px)
    const io = new IntersectionObserver((entries) => {
        entries.forEach(e => {
            if (e.isIntersecting) {
                e.target.classList.add('is-visible');
                io.unobserve(e.target);
            }
        });
    }, {threshold: 0.12});
    document.querySelectorAll('.reveal').forEach(el => io.observe(el));

    // Arrow down reveal
    const arrowIo = new IntersectionObserver((entries) => {
        entries.forEach(e => {
            if (e.isIntersecting) {
                e.target.classList.add('is-visible');
                arrowIo.unobserve(e.target);
            }
        });
    }, {threshold: 0.3});
    document.querySelectorAll('.arrow-down').forEach(el => arrowIo.observe(el));

    // Minimal count-up feel (only if value is plain number or $/hrs style)
    const cleanNumber = (s) => {
        const n = s.replace(/[^0-9.]/g, '');
        return n ? parseFloat(n) : null;
    };
    const formatLike = (original, num) => {
        if (/\$/.test(original)) return '$' + Math.round(num).toLocaleString();
        if (/hrs?/.test(original)) return Math.round(num) + ' hrs';
        if (/min/.test(original)) return Math.round(num) + ' min';
        return Math.round(num).toLocaleString();
    };

    const countupIo = new IntersectionObserver((entries) => {
        entries.forEach(e => {
            if (e.isIntersecting) {
                const el = e.target;
                const original = el.textContent.trim();
                const base = cleanNumber(original);
                if (base === null) return;

                el.textContent = '0';
                const duration = 1800; // ms (increased from 900)
                const start = performance.now();

                function tick(now) {
                    const t = Math.min(1, (now - start) / duration);
                    const eased = 1 - Math.pow(1 - t, 3);
                    el.textContent = formatLike(original, base * eased);
                    if (t < 1) requestAnimationFrame(tick);
                    else el.textContent = original;
                }

                requestAnimationFrame(tick);
                countupIo.unobserve(el);
            }
        });
    }, {threshold: 0.5});

    document.querySelectorAll('[data-countup]').forEach(el => countupIo.observe(el));

    // Product card typewriter effect and navigation
    const productLinks = {
        'Infinity Challenge': 'infinity.html',
        'Personalized Application Challenge (PAC)': 'personalised-challenge.html',
        'Insurance / Retention': 'faq.html',
        'Social Trading — Pot System': 'trading-pot.html',
        'Traditional Challenge': '#traditional-challenge',
        'AI & Behavioural Oversight': 'faq.html'
    };

    document.querySelectorAll('.product-card').forEach(card => {
        const description = card.dataset.description;
        const typewriterEl = card.querySelector('.typewriter-text');
        const cardTitle = card.querySelector('h3').textContent;
        let typewriterTimeout = null;
        let clearDelayTimeout = null;
        let isTyping = false;
        let typingComplete = false;
        if (!description || !typewriterEl) return;

        function typeWriter(text, index = 0) {
            if (index < text.length && isTyping) {
                typewriterEl.textContent = text.substring(0, index + 1);
                const delay = Math.random() * 8 + 5;
                typewriterTimeout = setTimeout(() => typeWriter(text, index + 1), delay);
            } else if (index >= text.length) {
                typingComplete = true;
            }
        }

        card.addEventListener('mouseenter', () => {
            if (clearDelayTimeout) {
                clearTimeout(clearDelayTimeout);
                clearDelayTimeout = null;
            }
            isTyping = true;
            typingComplete = false;
            typewriterEl.textContent = '';
            if (typewriterTimeout) clearTimeout(typewriterTimeout);
            typeWriter(description);
        });

        card.addEventListener('mouseleave', () => {
            isTyping = false;
            if (typewriterTimeout) clearTimeout(typewriterTimeout);

            if (typingComplete) {
                clearDelayTimeout = setTimeout(() => {
                    typewriterEl.textContent = '';
                    typingComplete = false;
                }, 5000);
            } else {
                typewriterEl.textContent = '';
            }
        });

        card.addEventListener('click', () => {
            const link = productLinks[cardTitle];
            if (link) {
                if (link.startsWith('#')) {
                    const targetSection = document.querySelector(link);
                    if (targetSection) {
                        targetSection.scrollIntoView({behavior: 'smooth'});
                    }
                } else {
                    window.location.href = link;
                }
            }
        });

        card.style.cursor = 'pointer';
    });

    // ===== Candlestick Animation (Canvas) — unchanged =====

    (function () {
        const canvas = document.getElementById('candles');
        if (!canvas) return;
        const ctx = canvas.getContext('2d', { alpha: true });

        if (window.__candlesInit) return;
        window.__candlesInit = true;

        const prefersReduced = window.matchMedia('(prefers-reduced-motion: reduce)').matches;
        let running = true;

        // ===== Size management =====
        let dpr = 1;
        let cssW = 0, cssH = 0;
        let pxW = 0, pxH = 0;

        function applySize() {
            const newDpr = Math.max(1, Math.min(2, window.devicePixelRatio || 1));
            if (newDpr !== dpr) dpr = newDpr;

            const needResize = (canvas.width !== Math.floor(cssW * dpr)) || (canvas.height !== Math.floor(cssH * dpr));
            if (needResize) {
                canvas.width = Math.floor(cssW * dpr);
                canvas.height = Math.floor(cssH * dpr);
                pxW = canvas.width / dpr;
                pxH = canvas.height / dpr;

                ctx.setTransform(1, 0, 0, 1, 0, 0);
                ctx.scale(dpr, dpr);

                recalcMaxBars();
                if (series.length === 0) seedSeries();
            }
        }

        const ro = new ResizeObserver(entries => {
            for (const e of entries) {
                const cr = e.contentRect;
                cssW = Math.max(1, cr.width);
                cssH = Math.max(1, cr.height);
                applySize();
            }
        });
        ro.observe(canvas);

        queueMicrotask(() => {
            if (cssW === 0 || cssH === 0) {
                const rect = canvas.getBoundingClientRect();
                cssW = Math.max(1, rect.width || canvas.clientWidth || 600);
                cssH = Math.max(1, rect.height || canvas.clientHeight || 300);
                applySize();
                if (series.length === 0) seedSeries();
            }
        });

        // ===== Enhanced Data Generation =====
        const series = [];
        let trend = 0; // -1, 0, or 1

        function nextBar(prev) {
            // Boundary repulsion - push away from edges
            const rangeMin = 95;
            const rangeMax = 105;
            const rangeSize = rangeMax - rangeMin;
            const distanceFromTop = rangeMax - prev;
            const distanceFromBottom = prev - rangeMin;

            // Calculate repulsion force (stronger near boundaries)
            let boundaryBias = 0;
            if (distanceFromTop < rangeSize * 0.25) {
                // Too close to top, bias downward
                boundaryBias = -0.3 * (1 - distanceFromTop / (rangeSize * 0.25));
            } else if (distanceFromBottom < rangeSize * 0.25) {
                // Too close to bottom, bias upward
                boundaryBias = 0.3 * (1 - distanceFromBottom / (rangeSize * 0.25));
            }

            // Introduce trending behavior
            if (Math.random() < 0.05) {
                trend = Math.random() < 0.5 ? -1 : 1;
            }
            if (Math.random() < 0.03) {
                trend = 0;
            }

            const drift = 0.01 * trend + boundaryBias;
            const vol = 1.5 + Math.random() * 1;
            let close = prev + (Math.random() - 0.5) * vol + drift;
            close = Math.max(rangeMin, Math.min(rangeMax, close));

            const open = prev;
            const spread = Math.abs(close - open);
            let high = Math.max(open, close) + Math.random() * (0.8 + spread * 0.25);
            let low = Math.min(open, close) - Math.random() * (0.8 + spread * 0.25);

            high = Math.min(rangeMax + 1, high);
            low = Math.max(rangeMin - 1, low);

            return { open, high, low, close, age: 0 };
        }

        function seedSeries() {
            series.length = 0;
            let last = 100;
            const count = Math.max(1, maxBars || 120);
            for (let i = 0; i < count; i++) {
                const b = nextBar(last);
                b.age = 999; // old bars, fully visible
                series.push(b);
                last = b.close;
            }
            offset = 0;
        }

        const globalMin = 94;
        const globalMax = 106;

        const pad = 20;
        const barW = 8;
        const gap = 4;
        const step = barW + gap;
        const speed = prefersReduced ? 10 : 20;
        let offset = 0;

        let maxBars = 0;
        const lead = 8;

        function recalcMaxBars() {
            if (!pxW) return;
            maxBars = Math.max(1, Math.floor((pxW - 2 * pad) / step)) + lead;
        }

        // ===== Fixed timestep =====
        const TICK = 1 / 60;
        let accumulator = 0;
        let lastTime = 0;
        let started = false;

        function update(dt) {
            // Age all bars
            series.forEach(b => b.age = Math.min(999, b.age + dt * 60));

            offset += speed * dt;
            while (offset >= step) {
                offset -= step;
                const b = nextBar(series[series.length - 1].close);
                series.push(b);
                while (maxBars > 0 && series.length > maxBars) {
                    series.shift();
                }
            }
        }

        function draw() {
            if (!pxW || !pxH) return;
            recalcMaxBars();
            const w = pxW, h = pxH;

            // Transparent background - blend with hero
            ctx.clearRect(0, 0, w, h);

            // Minimal grid - very subtle, larger spacing
            ctx.strokeStyle = 'rgba(255, 255, 255, 0.03)';
            ctx.lineWidth = 1;
            for (let gy = 1; gy < 3; gy++) {
                const y = Math.round((h / 3) * gy) + 0.5;
                ctx.beginPath();
                ctx.moveTo(0, y);
                ctx.lineTo(w, y);
                ctx.stroke();
            }

            const y = v => h - pad - ((v - globalMin) / (globalMax - globalMin)) * (h - 2 * pad);

            // Render candlesticks - clean and subtle
            let x = pad - offset;
            for (let i = 5; i < series.length; i++) {
                const b = series[i];
                if (x > w) break;
                if (x + barW < 0) { x += step; continue; }

                const isUp = b.close >= b.open;
                const fadeAlpha = Math.min(1, b.age / 30) * 0.95; // Brighter

                // Minimal wick - no glow, clean lines
                const wickAlpha = fadeAlpha * 0.75;
                ctx.strokeStyle = isUp
                    ? `rgba(37, 99, 235, ${wickAlpha})`
                    : `rgba(218, 222, 225, ${wickAlpha})`;
                ctx.lineWidth = 1;
                ctx.beginPath();
                ctx.moveTo(x + barW / 2, y(b.high));
                ctx.lineTo(x + barW / 2, y(b.low));
                ctx.stroke();

                // Candle body - refined gradient, blends with background
                const top = y(Math.max(b.open, b.close));
                const bot = y(Math.min(b.open, b.close));
                const bodyHeight = Math.max(2, bot - top);

                if (isUp) {
                    const grad = ctx.createLinearGradient(x, top, x, bot);
                    grad.addColorStop(0, `rgba(37, 99, 235, ${0.8 * fadeAlpha})`);
                    grad.addColorStop(1, `rgba(30, 58, 138, ${0.85 * fadeAlpha})`);
                    ctx.fillStyle = grad;
                } else {
                    const grad = ctx.createLinearGradient(x, top, x, bot);
                    grad.addColorStop(0, `rgba(218, 222, 225, ${0.7 * fadeAlpha})`);
                    grad.addColorStop(1, `rgba(158, 160, 166, ${0.75 * fadeAlpha})`);
                    ctx.fillStyle = grad;
                }

                ctx.fillRect(x, top, barW, bodyHeight);

                x += step;
            }
        }

        function frame(ts) {
            if (!running) { lastTime = ts; requestAnimationFrame(frame); return; }
            if (!started) { started = true; lastTime = ts; }

            let dt = (ts - lastTime) / 1000;
            lastTime = ts;

            if (dt > 0.25) dt = 0.25;

            accumulator += dt;
            while (accumulator >= TICK) {
                update(TICK);
                accumulator -= TICK;
            }

            draw();
            requestAnimationFrame(frame);
        }

        const start = () => {
            if (!pxW || !pxH || series.length === 0) {
                requestAnimationFrame(start);
                return;
            }
            requestAnimationFrame(frame);
        };

        if ('requestIdleCallback' in window) {
            requestIdleCallback(start, { timeout: 500 });
        } else if (document.readyState === 'complete') {
            start();
        } else {
            window.addEventListener('load', start, { once: true });
        }

        document.addEventListener('visibilitychange', () => {
            running = document.visibilityState === 'visible';
            if (running) { lastTime = 0; }
        });
    })();
</script>
<script>
    // Configuration: your spreadsheet ID and API key
    const sheetId = '1Ffk811lqi8lIJ2zb4JTaqs2jHTzCw6CWXYoYeKVuBHE';       // e.g. "1FABCdEXAMPLE_URL_GOESHERE"
    const apiKey = '';               // your Google API key
    const range = 'Pre-Register Form!H1';                   // sheet name and cell range (H1)

    // Construct the Google Sheets API URL for the specified range
    const url = `https://sheets.googleapis.com/v4/spreadsheets/${sheetId}/values/${range}?key=${apiKey}`;  //:contentReference[oaicite:8]{index=8}

    // Fetch the data from Google Sheets API and update the page
    fetch(url)
        .then(response => response.json())                  // parse the JSON response:contentReference[oaicite:9]{index=9}
        .then(data => {
            if (data.values) {
                const cellValue = data.values[0][0];            // the value in cell H1
                // Instead of querySelector('.value[data-countup]')
                const valueElement = document.querySelector('.live-count');
                valueElement.textContent = cellValue;         // insert the value into the div
            } else {
                console.error('No data returned for H1');
            }
        })
        .catch(error => console.error('Error fetching Google Sheets data:', error));
</script>
<script type="module">
    (() => {
        const canvas = document.getElementById('flowLines');
        if (!canvas) return;
        const ctx = canvas.getContext('2d', { alpha: true });

        const prefersReduced = window.matchMedia('(prefers-reduced-motion: reduce)').matches;

        // Professional blue palette
        const palette = {
            glow:    'rgba(37, 99, 235, 0.2)',
            stroke1: 'rgba(37, 99, 235, 0.4)',
            stroke2: 'rgba(96, 165, 250, 0.6)',
            stroke3: 'rgba(147, 197, 253, 0.3)',
            bgMist:  'rgba(18, 22, 32, 0.03)'
        };

        let running = true;
        let dpr = 1, cssW = 0, cssH = 0, pxW = 0, pxH = 0;

        // Size / DPR
        function applySize() {
            const newDpr = Math.max(1, Math.min(2, window.devicePixelRatio || 1));
            if (newDpr !== dpr) dpr = newDpr;

            const need = (canvas.width !== Math.floor(cssW * dpr)) || (canvas.height !== Math.floor(cssH * dpr));
            if (need) {
                canvas.width  = Math.floor(cssW * dpr);
                canvas.height = Math.floor(cssH * dpr);
                pxW = canvas.width / dpr;
                pxH = canvas.height / dpr;
                ctx.setTransform(1,0,0,1,0,0);
                ctx.scale(dpr, dpr);
                rebuild();
            }
        }
        const ro = new ResizeObserver(entries => {
            const { width, height } = entries[0].contentRect;
            const newW = Math.max(1, Math.round(width));
            const newH = Math.max(1, Math.round(height));
            if (newW !== cssW || newH !== cssH) {
                cssW = newW; cssH = newH; applySize();
            }
        });
        ro.observe(canvas);

        // ---- Flow lines
        const lines = [];
        let lineCount = 0;
        const maxCountBase = 24;
        const baseSpeed = prefersReduced ? 8 : 20;
        let speedBoost = 0;
        let targetBoost = 0;

        function random(min, max) { return min + Math.random() * (max - min); }

        function rebuild() {
            lines.length = 0;
            // Scale count with area but cap to keep it light
            const area = (pxW * pxH) / (1280 * 720);
            lineCount = Math.min(32, Math.max(8, Math.round(maxCountBase * area)));

            for (let i = 0; i < lineCount; i++) {
                lines.push(makeLine(true));
            }
        }

        function makeLine(seedY = false) {
            const x = random(pxW * 0.25, pxW * 0.75);
            const wiggleAmp = random(20, 50);
            const wiggleFreq = random(0.15, 0.35);
            const thickness = random(0.8, 2.2);
            const variant = Math.random();
            return {
                x0: x,
                y: seedY ? random(-pxH, pxH) : -random(60, pxH * 0.6),
                t: Math.random() * 10,
                amp: wiggleAmp,
                freq: wiggleFreq,
                width: thickness,
                len: random(pxH * 0.4, pxH * 0.85),
                variant: variant,
                alpha: random(0.4, 0.75)
            };
        }

        function drawLine(l, dt, spd) {
            l.t += dt;
            l.y += spd * dt;

            if (l.y - l.len > pxH + 60) {
                Object.assign(l, makeLine(false));
            }

            const segs = 20;
            const step = l.len / segs;
            const mid = l.x0;

            ctx.lineWidth = l.width;
            ctx.globalAlpha = l.alpha;

            const grad = ctx.createLinearGradient(mid, l.y - l.len, mid, l.y);
            if (l.variant < 0.33) {
                grad.addColorStop(0, palette.stroke3);
                grad.addColorStop(0.5, palette.stroke1);
                grad.addColorStop(1, palette.stroke2);
            } else if (l.variant < 0.66) {
                grad.addColorStop(0, palette.stroke1);
                grad.addColorStop(1, palette.stroke2);
            } else {
                grad.addColorStop(0, palette.stroke2);
                grad.addColorStop(0.6, palette.stroke1);
                grad.addColorStop(1, palette.stroke3);
            }
            ctx.strokeStyle = grad;

            ctx.shadowColor = palette.glow;
            ctx.shadowBlur = 12;

            ctx.beginPath();
            for (let i = 0; i <= segs; i++) {
                const y = l.y - l.len + i * step;
                const phase = (i * 0.4) + l.t * (2 * Math.PI * l.freq);
                const x = mid + Math.sin(phase) * l.amp;
                if (i === 0) ctx.moveTo(x, y);
                else ctx.lineTo(x, y);
            }
            ctx.stroke();

            ctx.shadowBlur = 0;
            ctx.globalAlpha = 1;
        }

        function drawMist() {
            ctx.fillStyle = palette.bgMist;
            ctx.fillRect(0, 0, pxW, pxH);
        }

        // Scroll velocity → temporary speed boost
        let lastScrollY = window.scrollY;
        let lastBoostTime = performance.now();
        function onScroll() {
            const now = performance.now();
            const dy = Math.abs(window.scrollY - lastScrollY);
            lastScrollY = window.scrollY;

            // Convert pixels scrolled in this frame to a boost; clamp for sanity
            const raw = Math.min(3.0, dy * 0.02);
            // Merge bursts but avoid spikes when browser batches scroll events
            const dt = Math.max(16, now - lastBoostTime);
            lastBoostTime = now;
            targetBoost = Math.max(targetBoost, raw * (16 / dt));
        }
        window.addEventListener('scroll', onScroll, { passive: true });

        // Pause when tab hidden (prevents timing spikes)
        document.addEventListener('visibilitychange', () => {
            running = document.visibilityState === 'visible';
        });

        // Main loop
        let last = performance.now();
        (function loop(now = performance.now()) {
            if (!pxW || !pxH) { requestAnimationFrame(loop); return; }

            const dt = Math.min(0.05, (now - last) / 1000);
            last = now;

            // Ease boost toward target, then decay toward 0
            const ease = 8; // larger = snappier
            speedBoost += (targetBoost - speedBoost) * Math.min(1, dt * ease);
            targetBoost *= Math.pow(0.001, dt);    // bleed off target quickly
            speedBoost *= Math.pow(0.25, dt);      // decay over a second or two

            ctx.clearRect(0, 0, pxW, pxH);
            drawMist();

            const spd = (prefersReduced ? baseSpeed * 0.4 : baseSpeed) * (1 + speedBoost);
            for (let i = 0; i < lines.length; i++) drawLine(lines[i], dt, spd);

            if (running) requestAnimationFrame(loop);
            else requestAnimationFrame(loop); // keep sizing responsive; cheap to keep
        })();

        // Initial size if RO fires late
        queueMicrotask(() => {
            if (!cssW || !cssH) {
                const r = canvas.getBoundingClientRect();
                cssW = Math.max(1, r.width || canvas.clientWidth || 800);
                cssH = Math.max(1, r.height || canvas.clientHeight || 400);
                applySize();
            }
        });
    })();
</script>
<script>
    // Testimonials Carousel
    class TestimonialsCarousel {
        constructor() {
            this.carousel = document.getElementById('testimonials-carousel');
            this.track = document.getElementById('testimonials-track');
            this.prevBtn = document.getElementById('carousel-prev');
            this.nextBtn = document.getElementById('carousel-next');
            this.dotsContainer = document.getElementById('carousel-dots');

            if (!this.carousel || !this.track) return;

            this.cards = Array.from(this.track.querySelectorAll('.testimonial-card'));
            this.currentIndex = 0;
            this.isDragging = false;
            this.startPos = 0;
            this.currentTranslate = 0;
            this.prevTranslate = 0;
            this.animationID = null;

            this.init();
        }

        init() {
            this.createDots();
            this.updateCarousel();
            this.attachEventListeners();
        }

        createDots() {
            this.cards.forEach((_, index) => {
                const dot = document.createElement('div');
                dot.classList.add('carousel-dot');
                if (index === 0) dot.classList.add('active');
                dot.addEventListener('click', () => this.goToSlide(index));
                this.dotsContainer.appendChild(dot);
            });
            this.dots = Array.from(this.dotsContainer.querySelectorAll('.carousel-dot'));
        }

        attachEventListeners() {
            this.prevBtn.addEventListener('click', () => this.prev());
            this.nextBtn.addEventListener('click', () => this.next());

            this.carousel.addEventListener('mousedown', this.dragStart.bind(this));
            this.carousel.addEventListener('touchstart', this.dragStart.bind(this));

            this.carousel.addEventListener('mousemove', this.drag.bind(this));
            this.carousel.addEventListener('touchmove', this.drag.bind(this));

            this.carousel.addEventListener('mouseup', this.dragEnd.bind(this));
            this.carousel.addEventListener('mouseleave', this.dragEnd.bind(this));
            this.carousel.addEventListener('touchend', this.dragEnd.bind(this));

            window.addEventListener('resize', () => this.updateCarousel());
        }

        getPositionX(event) {
            return event.type.includes('mouse') ? event.pageX : event.touches[0].clientX;
        }

        dragStart(event) {
            this.isDragging = true;
            this.startPos = this.getPositionX(event);
            this.animationID = requestAnimationFrame(this.animation.bind(this));
            this.carousel.classList.add('dragging');
            this.track.classList.add('no-transition');
        }

        drag(event) {
            if (!this.isDragging) return;
            const currentPosition = this.getPositionX(event);
            this.currentTranslate = this.prevTranslate + currentPosition - this.startPos;
        }

        dragEnd() {
            if (!this.isDragging) return;

            this.isDragging = false;
            cancelAnimationFrame(this.animationID);
            this.carousel.classList.remove('dragging');
            this.track.classList.remove('no-transition');

            const movedBy = this.currentTranslate - this.prevTranslate;
            const threshold = 50;

            if (movedBy < -threshold && this.currentIndex < this.cards.length - 1) {
                this.currentIndex += 1;
            } else if (movedBy > threshold && this.currentIndex > 0) {
                this.currentIndex -= 1;
            }

            this.updateCarousel();
        }

        animation() {
            this.setSliderPosition();
            if (this.isDragging) requestAnimationFrame(this.animation.bind(this));
        }

        setSliderPosition() {
            this.track.style.transform = `translateX(${this.currentTranslate}px)`;
        }

        getCardWidth() {
            return this.cards[0].offsetWidth + 24;
        }

        updateCarousel() {
            const cardWidth = this.getCardWidth();
            this.currentTranslate = -this.currentIndex * cardWidth;
            this.prevTranslate = this.currentTranslate;
            this.track.style.transform = `translateX(${this.currentTranslate}px)`;

            this.updateDots();
            this.updateArrows();
        }

        updateDots() {
            this.dots.forEach((dot, index) => {
                dot.classList.toggle('active', index === this.currentIndex);
            });
        }

        updateArrows() {
            this.prevBtn.classList.toggle('disabled', this.currentIndex === 0);
            this.nextBtn.classList.toggle('disabled', this.currentIndex === this.cards.length - 1);
        }

        prev() {
            if (this.currentIndex > 0) {
                this.currentIndex -= 1;
                this.updateCarousel();
            }
        }

        next() {
            if (this.currentIndex < this.cards.length - 1) {
                this.currentIndex += 1;
                this.updateCarousel();
            }
        }

        goToSlide(index) {
            this.currentIndex = index;
            this.updateCarousel();
        }
    }

    new TestimonialsCarousel();
</script>
</body>
</html>